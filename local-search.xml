<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>GitHub Webhook远程服务器自动部署杂记</title>
    <link href="/git/WebhookStart/"/>
    <url>/git/WebhookStart/</url>
    
    <content type="html"><![CDATA[<p>也来试试GitHub的自动部署？</p><a id="more"></a><h2>GitHub项目仓库配置</h2><p>在GitHub项目仓库的<code>Settings</code>-<code>Webhooks</code>里，选择<code>Add webhook</code>。<br>填写Payload URL和Secret，保存。</p><p><img src="/images/AddWebhook.png" alt="Add Webhook"></p><h2>远程服务器配置</h2><p>在远程服务器某一位置（如<code>/home/deploy</code>）创建Node.js项目。</p><p>首先安装<code>github-webhook-handler</code>包：</p><pre><code class="hljs bash">npm i --save github-webhook-handler</code></pre><p>在同一目录下新建一个<code>deploy.js</code>，内容如：</p><pre><code class="hljs js"><span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>)<span class="hljs-keyword">var</span> createHandler = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;github-webhook-handler&#x27;</span>)<span class="hljs-keyword">var</span> handler = createHandler(&#123;     path: <span class="hljs-string">&#x27;/pushCode&#x27;</span>, <span class="hljs-comment">// 与GitHub后台设置的Payload URL最后部分一致</span>    secret: <span class="hljs-string">&#x27;123456&#x27;</span> <span class="hljs-comment">// 与GitHub后台设置的Secret一致</span>&#125;)  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run_cmd</span>(<span class="hljs-params">cmd, args, callback</span>) </span>&#123;  <span class="hljs-keyword">var</span> spawn = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;child_process&#x27;</span>).spawn;  <span class="hljs-keyword">var</span> child = spawn(cmd, args);  <span class="hljs-keyword">var</span> resp = <span class="hljs-string">&quot;&quot;</span>;   child.stdout.on(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">buffer</span>) </span>&#123; resp += buffer.toString(); &#125;);  child.stdout.on(<span class="hljs-string">&#x27;end&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123; callback (resp) &#125;);&#125; http.createServer(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) </span>&#123;  handler(req, res, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>&#123;    res.statusCode = <span class="hljs-number">404</span>    res.end(<span class="hljs-string">&#x27;no such location&#x27;</span>)  &#125;)&#125;).listen(<span class="hljs-number">3000</span>) <span class="hljs-comment">//远程服务器本地绑定的端口</span> handler.on(<span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>&#123;  <span class="hljs-built_in">console</span>.error(<span class="hljs-string">&#x27;Error:&#x27;</span>, err.message)&#125;) handler.on(<span class="hljs-string">&#x27;push&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Received a push event for %s to %s&#x27;</span>,    event.payload.repository.name,    event.payload.ref);  run_cmd(<span class="hljs-string">&#x27;sh&#x27;</span>, [<span class="hljs-string">&#x27;./deploy.sh&#x27;</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>&#123; <span class="hljs-built_in">console</span>.log(text) &#125;); <span class="hljs-comment">//要部署的脚本</span>&#125;)</code></pre><p>编写部署脚本（如<code>deploy.sh</code>）。尝试执行</p><pre><code class="hljs bash">sh ./deploy.sh</code></pre><p>确认脚本无误。</p><p>全局安装<code>forever</code>，启动进程，检查进程列表：</p><pre><code class="hljs bash">npm i -g foreverforever start /home/deploy/deploy.jsforever list</code></pre><p>如果一切正常，输出格式形如：</p><pre><code class="hljs bash">data:        uid  <span class="hljs-built_in">command</span>       script       forever pid   id logfile                 uptime                    data:    [0] MHwN /usr/bin/node deploy.js 46226   46293    /root/.forever/MHwN.log 0:0:2:2.253999999999905</code></pre><h3>附注：常用的<code>forever</code>指令</h3><pre><code class="hljs bash">// 简单的启动进程forever start app.js// 关闭进程forever stop app.jsforever stop 0 // 关闭指定标号进程，如上述[0]号进程forever stopall// 重启进程forever restart app.jsforever restartall// 指定forever信息输出文件forever start -l forever.log app.js// 指定app.js中的日志信息和错误日志输出文件。// -o 为console.log输出的信息，// -e 为console.error输出的信息forever start -o out.log -e err.log app.js// 追加日志，forever默认不能覆盖上次的启动日志，// 如果第二次启动不加-a，则会报错// -a 等应置于脚本文件名称之前，否则不起作用forever start -l forever.log -a app.js// 监听当前文件夹下的所有文件改动forever start -w app.js//查看forever进程列表forever list</code></pre><h3>附注：SSH对远程服务器localhost端口的映射代理</h3><p>本地执行：</p><pre><code class="hljs powershell"><span class="hljs-comment"># ssh -L &#123;本地映射端口&#125;:&#123;远程端口绑定的ip&#125;:$&#123;需要代理的远程端口&#125; &#123;远程ip&#125;</span>ssh <span class="hljs-literal">-L</span> <span class="hljs-number">1234</span>:localhost:<span class="hljs-number">3000</span> xxx.xxx.xxx.xxx</code></pre><p>输入<code>root</code>密码后，本地的<code>1234</code>端口即可监听远程<code>3000</code>端口的内容。</p><h2>Nginx 公网映射</h2><pre><code class="hljs txt">server &#123;    server_name example.com;    ...    listen 443 ssl;     ...    location /pushCode &#123;            proxy_pass http://127.0.0.1:3000;    &#125;&#125;</code></pre><p>重启Nginx：</p><pre><code class="hljs bash">pkill -9 nginxnginx</code></pre><p>如无误，即可访问<code>https://example.com/pushCode</code>，得到<code>deploy.js</code>返回的内容：</p><pre><code class="hljs txt">no such location</code></pre><p>最后，尝试<code>git push</code>你的项目仓库，如一切正常，则能在对应的webhook页能找到部署成功的记录，大功告成。</p><p><img src="/images/WebhookSuccess.png" alt="Success"></p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>GitHub</tag>
      
      <tag>Webhook</tag>
      
      <tag>Node.js</tag>
      
      <tag>Nginx</tag>
      
      <tag>SSH</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>八聲甘州·頌廈大百年華誕</title>
    <link href="/poem/XMU100/"/>
    <url>/poem/XMU100/</url>
    
    <content type="html"><![CDATA[<blockquote><p>1921-2021，慶賀母校廈門大學百年華誕。<br>敢竭拙思，也擬詩詞，共勉未來。</p></blockquote><a id="more"></a><p>憶陵夷演武肇黌基<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="憶陵夷演武肇黌基：民國10年（1921年）4月6日廈門大學借集美學校開辦；5月9日廈門大學在當年鄭成功操練軍隊的演武亭舊址奠基。選定5月9日奠基，是為了銘記1915年5月9日袁世凱接受「二十一條」這一國恥。陵夷：指國勢衰微，這裏借指中日「二十一條」這一國恥。黌：學校。">[1]</span></a></sup>，<br>鷺洲會羣賢<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="鷺洲會羣賢：鷺洲：廈門島早期形似白鷺，雅稱鷺島。群賢：雙關，既指來到廈大的青年才俊，也指最早奠基的群賢樓群。">[2]</span></a></sup>。<br>正海濱輻輳<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="輻輳：車輻的一頭聚集在車轂，形容人物匯集。">[3]</span></a></sup>，<br>師生踔厲<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="踔厲：精神振奮。">[4]</span></a></sup>，<br>道義擔肩。<br>同集囊螢映雪，<br>一字列巍然<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="同集囊螢映雪，一字列巍然：群賢樓群一字排開，從左到右分別是囊螢樓、同安樓、群賢樓（主樓）、集美樓、映雪樓。同（安）、集（美）二樓名體現了校主銘記桑梓的情懷；囊螢、映雪二樓名則是勉勵學生刻苦學習。">[5]</span></a></sup>。<br>負笈南強志，<br>故郡窮年<sup id="fnref:6" class="footnote-ref"><a href="#fn:6" rel="footnote"><span class="hint--top hint--rounded" aria-label="負笈南強志，故郡窮年：指廈門大學在抗戰時期西遷福建長汀，贏得「南方之強」美譽。負笈：背負書箱，引申為外出求學。故郡：指長汀縣，舊為汀州府治。汀州最早可以追溯到唐代。">[6]</span></a></sup>。</p><p>覽昔毀家紓國<sup id="fnref:7" class="footnote-ref"><a href="#fn:7" rel="footnote"><span class="hint--top hint--rounded" aria-label="毀家紓國：讚頌校主陳嘉庚抗戰時期領導南洋華僑支持祖國，並無償將廈大捐給國家。">[7]</span></a></sup>，<br>更典藏迻譯<sup id="fnref:8" class="footnote-ref"><a href="#fn:8" rel="footnote"><span class="hint--top hint--rounded" aria-label="更典藏迻譯：指王亞南校長參與翻譯的《資本論》。典藏：書籍文獻的收藏，引申為經典收藏品，這裏指《資本論》。迻譯：翻譯。">[8]</span></a></sup>，<br>格致周延<sup id="fnref:9" class="footnote-ref"><a href="#fn:9" rel="footnote"><span class="hint--top hint--rounded" aria-label="格致周延：指陳景潤研究歌德巴赫猜想的證明。格致：格物致知，近代指自然科學。周延：邏輯學名詞，指命題中的名詞可論及一類事物全體的情況。">[9]</span></a></sup>。<br>況巡洋攬月，<br>兀兀寄雲天<sup id="fnref:10" class="footnote-ref"><a href="#fn:10" rel="footnote"><span class="hint--top hint--rounded" aria-label="況巡洋攬月，兀兀寄雲天：巡洋：指嘉庚號科考船。攬月：指嘉庚一號火箭。兀兀：勞苦不息的樣子。">[10]</span></a></sup>。<br>賞八閩、花繁木秀，<br>望滄瀛、萬舸競風煙。<br>逢稘歲<sup id="fnref:11" class="footnote-ref"><a href="#fn:11" rel="footnote"><span class="hint--top hint--rounded" aria-label="稘歲：一個世紀。稘本指週歲，世紀義用法最早可能來自嚴復。">[11]</span></a></sup>、棉開四地<sup id="fnref:12" class="footnote-ref"><a href="#fn:12" rel="footnote"><span class="hint--top hint--rounded" aria-label="棉開四地：棉指木棉，指校慶正是木棉花開時節。四地：指廈大的思明、翔安、漳州、馬來西亞四個校區。">[12]</span></a></sup>，<br>共話新篇。</p><p><em>時二〇二一年四月五日，萬石澄源齋、漳南江夏某氏作於海韻</em></p><h2>廈音對照</h2><p>這裏的羅馬字標識出了當代廈門話缺失的j-聲母。實際朗誦按當代的l-。</p><p>「字」的文讀音可以是jū或tsū，這裏取j-，朗誦應折合爲lū。</p><p>「閩」的讀音採用了傳統的bân，不依反切音bîn。</p><pre><code class="hljs txt">憶陵夷演武肇黌基，Ik lîng-î Ián-bú tiāu hông ki,鷺洲會羣賢。Lōo-tsiu huē kûn-hiân.正海濱輻輳，Tsìng hái-pin hok-tsòo,師生踔厲，su-sing thok-lē,道義擔肩。tō-gī tam-kian.同集囊螢映雪，Tông Tsi̍p Lông-îng Ìng-suat,一字列巍然。it-jū lia̍t guî-jiân.負笈南強志，Hū-khip Lâm-kiông tsì,故郡窮年。kòo-kūn kiông-liân.覽昔毀家紓國，Lám-sik huí-ka su-kok,更典藏迻譯，kìng tián-tsông î-i̍k,格致周延。kik-tì tsiu-iân.況巡洋攬月，Hóng sûn-iông lám-gua̍t,兀兀寄雲天。gu̍t-gu̍t kì ûn-thian.賞八閩、花繁木秀，Sióng pat-Bân, hua huân bo̍k siù,望滄瀛、萬舸競風煙。bōng tsong-îng, bān-khó kīng hong-ian.逢稘歲、棉開四地，Hông kî-suè, biân khai sù-tē,共話新篇。kiōng-huā sin-phian.</code></pre><section class="footnotes"><h2>註</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>憶陵夷演武肇黌基：民國10年（1921年）4月6日廈門大學借集美學校開辦；5月9日廈門大學在當年鄭成功操練軍隊的演武亭舊址奠基。選定5月9日奠基，是為了銘記1915年5月9日袁世凱接受「二十一條」這一國恥。陵夷：指國勢衰微，這裏借指中日「二十一條」這一國恥。黌：學校。<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>鷺洲會羣賢：鷺洲：廈門島早期形似白鷺，雅稱鷺島。群賢：雙關，既指來到廈大的青年才俊，也指最早奠基的群賢樓群。<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>輻輳：車輻的一頭聚集在車轂，形容人物匯集。<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span>踔厲：精神振奮。<a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:5" class="footnote-text"><span>同集囊螢映雪，一字列巍然：群賢樓群一字排開，從左到右分別是囊螢樓、同安樓、群賢樓（主樓）、集美樓、映雪樓。同（安）、集（美）二樓名體現了校主銘記桑梓的情懷；囊螢、映雪二樓名則是勉勵學生刻苦學習。<a href="#fnref:5" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:6" class="footnote-text"><span>負笈南強志，故郡窮年：指廈門大學在抗戰時期西遷福建長汀，贏得「南方之強」美譽。負笈：背負書箱，引申為外出求學。故郡：指長汀縣，舊為汀州府治。汀州最早可以追溯到唐代。<a href="#fnref:6" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:7" class="footnote-text"><span>毀家紓國：讚頌校主陳嘉庚抗戰時期領導南洋華僑支持祖國，並無償將廈大捐給國家。<a href="#fnref:7" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:8" class="footnote-text"><span>更典藏迻譯：指王亞南校長參與翻譯的《資本論》。典藏：書籍文獻的收藏，引申為經典收藏品，這裏指《資本論》。迻譯：翻譯。<a href="#fnref:8" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:9" class="footnote-text"><span>格致周延：指陳景潤研究歌德巴赫猜想的證明。格致：格物致知，近代指自然科學。周延：邏輯學名詞，指命題中的名詞可論及一類事物全體的情況。<a href="#fnref:9" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:10" class="footnote-text"><span>況巡洋攬月，兀兀寄雲天：巡洋：指嘉庚號科考船。攬月：指嘉庚一號火箭。兀兀：勞苦不息的樣子。<a href="#fnref:10" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:11" class="footnote-text"><span>稘歲：一個世紀。稘本指週歲，世紀義用法最早可能來自嚴復。<a href="#fnref:11" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:12" class="footnote-text"><span>棉開四地：棉指木棉，指校慶正是木棉花開時節。四地：指廈大的思明、翔安、漳州、馬來西亞四個校區。<a href="#fnref:12" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>詩詞</category>
      
    </categories>
    
    
    <tags>
      
      <tag>詞</tag>
      
      <tag>平水韻</tag>
      
      <tag>八聲甘州</tag>
      
      <tag>廈門大學</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《中间件技术》实验1：远程文件管理</title>
    <link href="/middleware/MWExp1FileManager/"/>
    <url>/middleware/MWExp1FileManager/</url>
    
    <content type="html"><![CDATA[<blockquote><p><em>原 型 开 发</em></p></blockquote><a id="more"></a><h2>引言</h2><p>实验目的：用你熟悉的语言，开发一个基于网络（比如Socket）的简单的互操作程序：实现A机器的程序，可以管理（增加、删除、改等）B机器上的某个文件夹或者目录。</p><h2>问题分析</h2><p>由于题目并未限制编程语言和技术，在此直接选用了HTTP协议，利用Python的Flask框架开发Web应用。</p><p>在服务器端，设计必要的RESTful API，用于前端jQuery发送Ajax请求与远程服务器连接。</p><p>用户可以直接访问服务器端的Web地址，对服务器端的文件夹进行文件管理。</p><p>也可在本机启动客户端Web服务，通过指定服务器端的URL，客户端访问服务器端API，实现远程的文件管理。</p><p>项目仓库地址：<a href="https://github.com/unsioer/file-manager-flask">https://github.com/unsioer/file-manager-flask</a></p><h2>环境</h2><p>开发环境：</p><ul><li><p>Visual Studio Code</p></li><li><p>Python 3.8.5</p></li><li><p>Flask 1.1.2</p></li></ul><h2>具体设计</h2><h3>概要</h3><p>本实验的服务器端和客户端均采用了Python的Flask这一Web框架。</p><p>为了演示方便，服务器端和客户端均在本机测试。服务器端绑定<code>0.0.0.0:5000</code>，操作的目录设置为<code>test</code>；客户端代码置于<code>client</code>文件夹下，绑定<code>0.0.0.0:10000</code>，直接请求<code>http://127.0.0.1:5000</code>的内容。这显然容易推广到“A机器管理B机器的指定文件夹”。</p><ul><li><p>服务器端的路由设计中，<code>/api</code> 用于RESTful API，<code>/app</code> 用于返回HTML界面。</p></li><li><p>客户端的路由设计中，<code>/app</code> 用于返回HTML界面（实际与服务器端的内容一致）。</p></li></ul><p>下面具体说明使用到的技术。</p><p><strong>客户端</strong>：</p><p>客户端直接利用了Flask的模板解析功能，实际用于交互的只有一个HTML页面。因为界面功能基本一致，为了减少耦合，与服务器端共用代码（提交的代码中，<code>client/templates</code>文件夹实际是<code>templates</code>文件夹的映射）。</p><p>HTML界面的各项交互功能主要靠jQuery和衍生插件<code>jquery-confirm</code>（jQuery版的确认消息提示框）完成；</p><p>还用到了<code>bootstrap</code>以及<code>font-awesome</code>美化界面。</p><p>我们知道，客户端与服务器端应该使用的是不同的套接字，所以jQuery的Ajax请求的URL应该是不同的。所以，在共用的HTML代码中，设计了<code>&#123;&#123; host_link &#125;&#125;</code>这一字段。</p><p>客户端有一个字典<code>remote_config = &#123;'host_link':'http://127.0.0.1:5000'&#125;</code>，直接填写服务器端的URL。</p><p>代码差异如下：</p><pre><code class="hljs Python"><span class="hljs-comment"># client/app.py 客户端</span><span class="hljs-meta">@app.route(&quot;/app/&lt;path:folderPath&gt;&quot;, methods=[&#x27;GET&#x27;])</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>(<span class="hljs-params">folderPath</span>):</span>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;app.html&#x27;</span>, **remote_config)</code></pre><pre><code class="hljs Python"><span class="hljs-comment"># app.py 服务器端</span><span class="hljs-meta">@app.route(&quot;/app/&lt;path:folderPath&gt;&quot;, methods=[&#x27;GET&#x27;])</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>(<span class="hljs-params">folderPath</span>):</span>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;app.html&#x27;</span>)</code></pre><pre><code class="hljs js"><span class="hljs-comment">// templates/app.html 共用的HTML模板</span>$.ajax(&#123;    url: <span class="hljs-built_in">window</span>.location.href&#123;% <span class="hljs-keyword">if</span> host_link %&#125;.replace(<span class="hljs-regexp">/(https?:\/\/)?[^\/]+(\/.+)/i</span>,<span class="hljs-string">&#x27;&#123;&#123; host_link &#125;&#125;$2&#x27;</span>,<span class="hljs-number">1</span>)&#123;% endif %&#125;.replace(<span class="hljs-string">&#x27;/app&#x27;</span>, <span class="hljs-string">&#x27;/api/folder/basic&#x27;</span>, <span class="hljs-number">1</span>)，    ...&#125;);</code></pre><p>服务器端对应的Python代码未提供<code>host_link</code>，则不会被解析；客户端提供了<code>host_link</code>，在对应位置会被替换为指定的服务器端URL，由JavaScript的字符串替换功能改为正确的服务器端API的URL。</p><p><strong>服务器端</strong>：</p><p>服务器端除了上文提及的HTML界面外，主要内容为一系列操作的API。</p><p>大体上的代码大致均如：</p><pre><code class="hljs Python"><span class="hljs-meta">@app.route(&quot;/api/folder/basic/&lt;path:folderPath&gt;&quot;, methods=[&#x27;GET&#x27;])</span><span class="hljs-meta">@cross_origin()</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">folderPath</span>):</span>    ...</code></pre><p><code>@app.route()</code>指定了路径和请求方法；</p><p><code>@cross_origin()</code>则是为了实现API的跨域访问，使得客户端Web界面得以操作服务器端的API。</p><h3>服务器端路由</h3><p>服务器端的路由设计中，<code>/api</code> 用于RESTful API，<code>/app</code> 用于返回HTML界面。</p><p>需要注意的几点：</p><ol><li>以下的API设计中，格式均对齐为<code>/api/(file|folder)/[a-z]+/&lt;path&gt;?</code>，这是为了防止路径名称与API产生冲突。作为简易实现的功能，严格来说不是严谨的设计。</li><li>作为服务器端，如果要让客户端利用API，需要提供跨域访问支持。这里使用了Python的<code>flask_cors</code>包，并对每个API添加<code>@cross_origin()</code>支持。</li><li>目前设计的API中，除发生未知的系统错误外，均返回JSON字串，HTTP状态码均为200（虽然大部分JSON字串有一个<code>state</code>属性，写法仿照HTTP返回状态码）。这只是简易实现功能，不是严谨的设计。在Flask中，返回错误状态码可以使用<code>abort</code>方法，可以通过<code>from flask import abort</code>引入。</li><li>如果是URL路径不存在，Flask默认返回404状态码。</li></ol><h4>GET <code>/api/folder/basic/&lt;path:folderPath&gt;</code></h4><p>获取指定目录下的文件（包含文件夹）信息。</p><p><strong>返回JSON格式</strong>：</p><pre><code class="hljs json">&#123;    <span class="hljs-attr">&quot;files&quot;</span>:[        &#123;            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;FileName&quot;</span>, <span class="hljs-comment">//文件名</span>            <span class="hljs-attr">&quot;path&quot;</span>: <span class="hljs-string">&quot;pathx/pathy&quot;</span>, <span class="hljs-comment">//文件所在路径 </span>            <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//文件类型，分为三类：0为文件夹，1为文件，2为其他</span>            <span class="hljs-attr">&quot;size&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">//文件大小，单位为字节。该属性不对type===0（即文件夹）有效</span>            <span class="hljs-attr">&quot;mtime&quot;</span>: <span class="hljs-string">&quot;2021-03-24 22:39:32&quot;</span> <span class="hljs-comment">//文件修改时间</span>        &#125;,        ...    ]&#125;</code></pre><h4>GET <code>/api/folder/basic/</code></h4><p>获取根目录下的文件信息。</p><p><strong>返回JSON格式</strong>：同上。</p><h4>GET <code>/api/file/check/&lt;path:filePath&gt;</code></h4><p>检查给出完整路径的文件（夹）是否存在。</p><p><em>注：由于下文一些API针对文件（夹）名冲突做了不同处理，HTML界面实际并未利用到此API。</em></p><p><strong>返回JSON格式</strong>：</p><ul><li><p>存在：<code>&#123;&quot;status&quot;: 200&#125;</code></p></li><li><p>不存在：<code>&#123;&quot;status&quot;: 404&#125;</code></p></li></ul><h4>POST <code>/api/folder/basic/&lt;path:folderPath&gt;</code></h4><p>在指定目录<strong>上传文件</strong>。</p><p><strong>HTTP请求体</strong>：提交内容为表单数据，<code>file</code>项为二进制（即上传的文件）内容。</p><p><strong>冲突检测</strong>：如果该目录下已经有同名文件，则将上传的文件命名为<code>[非后缀名] - 副本[.后缀名] </code>保存。如果仍然存在命名冲突，则尝试命名为<code>[非后缀名] - 副本 (2)[.后缀名] </code>, <code>[非后缀名] - 副本 (3)[.后缀名] </code>……直至避开冲突。</p><p><strong>返回JSON格式</strong>：<code>&#123;&quot;status&quot;: 200&#125;</code></p><h4>POST <code>/api/folder/basic</code></h4><p>在根目录<strong>上传文件</strong>。</p><p><strong>HTTP请求体、冲突检测、返回JSON格式</strong>：同上。</p><h4>PUT <code>/api/folder/basic/&lt;path:folderPath&gt;</code></h4><p>为指定目录下的指定文件（夹）<strong>重命名</strong>。</p><p><strong>HTTP请求体</strong>：<code>&#123;&quot;src&quot;:&quot;原名称&quot;,&quot;dst&quot;:&quot;新名称&quot;&#125;</code>。</p><p><strong>文件（夹）名称合法性检测</strong>：拒绝文件（夹）名出现<code>\</code> <code>/</code> <code>:</code> <code>?</code> <code>&lt;</code> <code>&gt;</code>  <code>*</code> 等特殊字符。</p><p><strong>冲突检测</strong>：在这里，不允许新名称与当前目录下其他文件的名称有冲突。</p><p><strong>返回JSON格式</strong>：</p><ul><li>重命名成功，或原名称与新名称相同：<code>&#123;&quot;status&quot;: 200&#125;</code></li><li>请求体不合法：<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No data given&quot;&#125;</code>或<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No source file or destination file given&quot;&#125;</code></li><li>文件（夹）名称有特殊字符：<code>&#123;&quot;status&quot;: 403, &quot;msg&quot;: &quot;Illegal file or folder name&quot;&#125;</code></li><li>源文件不存在：<code>&#123;&quot;status&quot;: 404, &quot;msg&quot;: &quot;Source file does not exist&quot;&#125;</code></li><li>新名称与当前目录下其他文件的名称冲突：<code>&quot;status&quot;: 400, &quot;msg&quot;: &quot;Destination file exists&quot;&#125;</code></li></ul><h4>PUT <code>/api/folder/basic/</code></h4><p>为根目录下的指定文件（夹）<strong>重命名</strong>。</p><p><strong>HTTP请求体、文件（夹）名称合法性检测、冲突检测、返回JSON格式</strong>：同上。</p><h4>DELETE <code>/api/folder/basic/&lt;path:folderPath&gt;</code></h4><p><strong>删除</strong>指定目录下的指定文件（夹）。</p><p><strong>HTTP请求体</strong>：<code>&#123;&quot;src&quot;:&quot;要删除的文件（夹）名称&quot;&#125;</code>。</p><p><strong>返回JSON格式</strong>：</p><ul><li>删除成功，或原名称与新名称相同：<code>&#123;&quot;status&quot;: 200&#125;</code></li><li>请求体不合法：<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No data given&quot;&#125;</code>或<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No source file or destination file given&quot;&#125;</code></li><li>源文件不存在：<code>&#123;&quot;status&quot;: 404, &quot;msg&quot;: &quot;Source file does not exist&quot;&#125;</code></li><li>没有删除权限：<code>&quot;status&quot;: 400, &quot;msg&quot;: &quot;Permission refused&quot;&#125;</code></li></ul><h4>DELETE <code>/api/folder/basic/</code></h4><p><strong>删除</strong>根目录下的指定文件（夹）。</p><p><strong>HTTP请求体、返回JSON格式</strong>：同上。</p><h4>POST <code>/api/folder/new/&lt;path:folderPath&gt;</code></h4><p>在指定目录下<strong>新建文件夹</strong>。</p><p><strong>HTTP请求体</strong>：<code>&#123;&quot;src&quot;:&quot;文件夹名称&quot;&#125;</code>。</p><p><strong>文件夹名称合法性检测</strong>：拒绝文件夹名出现<code>\</code> <code>/</code> <code>:</code> <code>?</code> <code>&lt;</code> <code>&gt;</code> <code>*</code> 等特殊字符。</p><p><strong>冲突检测</strong>：在这里，不允许文件夹名称与当前目录下其他文件夹的名称有冲突。</p><p><strong>返回JSON格式</strong>：</p><ul><li><p>删除成功，或原名称与新名称相同：<code>&#123;&quot;status&quot;: 200&#125;</code></p></li><li><p>请求体不合法：<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No data given&quot;&#125;</code>或<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No folder name given&quot;&#125;</code></p></li><li><p>文件夹名称有特殊字符：<code>&#123;&quot;status&quot;: 403, &quot;msg&quot;: &quot;Illegal folder name&quot;&#125;</code></p></li><li><p>文件夹名称与当前目录下其他文件夹的名称冲突：<code>&quot;status&quot;: 400, &quot;msg&quot;: &quot;Destination folder exists&quot;&#125;</code></p></li></ul><h4>POST <code>/api/folder/new/</code></h4><p>在根目录下<strong>新建文件夹</strong>。</p><p><strong>HTTP请求体</strong>、<strong>文件夹名称合法性检测</strong>、<strong>冲突检测</strong>、<strong>返回JSON格式</strong>：同上。</p><h4>PUT <code>/api/file/copy/&lt;path:filePath&gt;</code></h4><p><strong>复制</strong>指定路径下的文件（夹）到指定位置文件夹下。</p><p>指定位置文件夹如不存在则新建。</p><p><strong>HTTP请求体</strong>：<code>&#123;&quot;dst&quot;:&quot;目标文件夹名称&quot;&#125;</code>。</p><p><strong>路径名称合法性检测</strong>：目标文件夹路径不得出现 <code>:</code> <code>?</code> <code>&lt;</code> <code>&gt;</code> <code>*</code> 等特殊字符。</p><p><strong>冲突检测</strong>：</p><p>以下内容也适用于目标文件夹名称就是当前文件（夹）所在文件夹的情况。</p><p>如果该目录下已经有同名文件，则将复制的文件命名为<code>[非后缀名] - 副本[.后缀名] </code>保存。如果仍然存在命名冲突，则尝试命名为<code>[非后缀名] - 副本 (2)[.后缀名] </code>, <code>[非后缀名] - 副本 (3)[.后缀名] </code>……直至避开冲突。</p><p>如果该目录下已经有同名文件夹，则将复制的文件夹命名为<code>[文件夹名] - 副本 </code>保存。如果仍然存在命名冲突，则尝试命名为<code>[文件夹名] - 副本 (2) </code>, <code>[文件夹名] - 副本 (3)</code>……直至避开冲突。</p><p><strong>返回JSON格式</strong>：</p><ul><li>复制成功：<code>&#123;&quot;status&quot;: 200&#125;</code></li><li>要复制的文件（夹）不存在：<code>&#123;&quot;status&quot;: 404, &quot;msg&quot;: &quot;File not found&quot;&#125;</code></li><li>请求体不合法：<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No data given&quot;&#125;</code>或<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No destination folder given&quot;&#125;</code></li><li>目标文件夹路径名称不合法：<code>&#123;&quot;status&quot;: 403, &quot;msg&quot;: &quot;Illegal path&quot;&#125;</code></li><li>复制失败：<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;错误信息&quot;&#125;</code></li></ul><h4>PUT <code>/api/file/move/&lt;path:filePath&gt;</code></h4><p><strong>移动</strong>指定路径下的文件（夹）到指定位置文件夹下。</p><p>指定位置文件夹如不存在则新建。</p><p><strong>HTTP请求体</strong>：<code>&#123;&quot;dst&quot;:&quot;目标文件夹名称&quot;&#125;</code>。</p><p><strong>路径名称合法性检测</strong>：目标文件夹路径不得出现 <code>:</code> <code>?</code> <code>&lt;</code> <code>&gt;</code>  <code>*</code> 等特殊字符。</p><p><strong>冲突检测</strong>：</p><p>当目标文件夹名称就是当前文件（夹）所在文件夹时，不做处理，返回<code>&#123;&quot;status&quot;: 200&#125;</code>。</p><p>如果该目录下已经有同名文件，则将移动的文件命名为<code>[非后缀名] - 副本[.后缀名] </code>保存。如果仍然存在命名冲突，则尝试命名为<code>[非后缀名] - 副本 (2)[.后缀名] </code>, <code>[非后缀名] - 副本 (3)[.后缀名] </code>……直至避开冲突。</p><p>如果该目录下已经有同名文件夹，则将移动的文件夹命名为<code>[文件夹名] - 副本 </code>保存。如果仍然存在命名冲突，则尝试命名为<code>[文件夹名] - 副本 (2) </code>, <code>[文件夹名] - 副本 (3)</code>……直至避开冲突。</p><p><strong>返回JSON格式</strong>：</p><ul><li>移动成功，或目标文件夹名称就是当前文件（夹）所在文件夹：<code>&#123;&quot;status&quot;: 200&#125;</code></li><li>要移动的文件（夹）不存在：<code>&#123;&quot;status&quot;: 404, &quot;msg&quot;: &quot;File not found&quot;&#125;</code></li><li>请求体不合法：<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No data given&quot;&#125;</code>或<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;No destination folder given&quot;&#125;</code></li><li>目标文件夹路径名称不合法：<code>&#123;&quot;status&quot;: 403, &quot;msg&quot;: &quot;Illegal path&quot;&#125;</code></li><li>移动失败：<code>&#123;&quot;status&quot;: 400, &quot;msg&quot;: &quot;错误信息&quot;&#125;</code></li></ul><hr><p>以下为HTML界面路由，服务器端与客户端基本一致。</p><h3>客户端路由</h3><h4>GET <code>/app/&lt;path:folderPath&gt;</code>及GET <code>/app/</code></h4><p>返回HTML界面，显示指定目录及根目录下的情况。界面效果详见下节。</p><h2>Web界面展示</h2><p>这里做了简要截图，也可详见演示视频。</p><h3>基本界面</h3><p>界面左上方为网页标题，下有四个按钮，分别为：根目录、刷新、新建文件夹、上传（文件）。</p><p>接着是文件列表。对于非根目录，还有一行<code>..</code>的链接返回上一级目录。</p><p>每个文件（夹）根据文件类型配套不同图标。文件夹有链接可以访问；文件则显示具体大小。文件和文件夹均显示最近修改时间。</p><p>对于每个文件（夹），均提供四种操作，分别为：复制、移动、重命名、删除。</p><p>最下方显示作者和创作年份。</p><p><img src="/images/%E5%9F%BA%E6%9C%AC%E7%95%8C%E9%9D%A2.png" alt="基本界面"></p><h3>提示框</h3><p>新建、重命名、复制、移动提示框（以重命名提示框为例）：</p><p><img src="/images/%E9%87%8D%E5%91%BD%E5%90%8D%E6%8F%90%E7%A4%BA%E6%A1%86.png" alt="重命名提示框"></p><p>删除提示框：</p><p><img src="/images/%E5%88%A0%E9%99%A4%E6%8F%90%E7%A4%BA%E6%A1%86.png" alt="删除提示框"></p><h2>技术总结</h2><p>本次实验实现了一个最简单的基于网络的远程文件管理应用，完成了实验所有要求并做了一些合法性检测，设计了相对简洁美观的界面。</p><p>由于只是简易实现功能，尚有以下不足之处：</p><ul><li><p>API命名规范</p></li><li><p>请求和返回内容设计较为随意</p></li><li><p>未进行充分测试，难免bug（如文件操作权限不足在API中没有全部体现）</p></li><li><p>未运用Vue.js等前端框架，纯手写jQuery，代码较为繁琐</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>中間件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Flask</tag>
      
      <tag>jQuery</tag>
      
      <tag>CORS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>念奴嬌·遊集美學村</title>
    <link href="/poem/TsipbiHaktshngTrip/"/>
    <url>/poem/TsipbiHaktshngTrip/</url>
    
    <content type="html"><![CDATA[<p><em>遊集美學村，感嘉庚先生愛國精神，爲廈大精神之首。</em><br><em>百年校慶臨近，乃賦斯篇，颂先賢而勉吾儕。</em></p><a id="more"></a><p><strong>潯江盡處</strong><sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="集美舊稱潯尾、盡尾，因閩南方言音近而雅化地名。">[1]</span></a></sup>，<br>見樓羣列坐，<br><strong>黌門</strong><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="學校的門，泛指集美學村的衆多學校。">[2]</span></a></sup>雄偉。<br><strong>燕尾朱甍垣壁築，</strong><br><strong>合璧中西精美</strong><sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="兩句寫集美學村一帶中西合璧的嘉庚式建築風格。「燕尾朱甍」即閩南傳統風格的燕尾脊；「垣壁」則是西式風格的石磚牆：統稱「穿西裝，戴斗笠」。又，「合璧中西精美」暗喻「集美」地名。">[3]</span></a></sup>。<br>世紀風雲，<br>星移斗轉，<br><strong>蔭德興桑梓</strong><sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="讚頌陳嘉庚先生當年興辦集美學校回報家鄉振興中華的義舉，時至今日集美人民仍然享受着嘉庚先生留下的這份德澤。">[4]</span></a></sup>。<br><strong>百年憧憬，</strong><br><strong>八閩增益文斐</strong><sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="讚頌嘉庚先生在一個世紀前先後創辦集美學校（1918年）、廈門大學（1921年）等一系列舉措是爲了提振當時近乎一窮二白的福建現代文化教育事業；歷經百年，八閩大地因集美學村和廈大增添了許多光輝。">[5]</span></a></sup>。</p><p>但眺<strong>高集橋橫</strong><sup id="fnref:6" class="footnote-ref"><a href="#fn:6" rel="footnote"><span class="hint--top hint--rounded" aria-label="指從高崎到集美的廈門大橋。之前則是高集海堤，由嘉庚先生在上世紀五十年代倡議修築。高集海堤在幾十年前一直是廈門島與大陸唯一的陸路通道；之後廈門大橋也是廈門島與大陸聯通的第一座大橋。">[6]</span></a></sup>，<br>濤回浪湧，<br><strong>解放豐碑峙</strong><sup id="fnref:7" class="footnote-ref"><a href="#fn:7" rel="footnote"><span class="hint--top hint--rounded" aria-label="指集美鰲園內的集美解放紀念碑。">[7]</span></a></sup>。<br><strong>咫尺波津臨廈島，</strong><br><strong>終歲面南凝視</strong><sup id="fnref:8" class="footnote-ref"><a href="#fn:8" rel="footnote"><span class="hint--top hint--rounded" aria-label="鰲園內集美解放紀念碑旁有陳嘉庚墓。紀念碑和墓均面向咫尺對岸的廈門島。">[8]</span></a></sup>。<br><strong>今昔微言</strong><sup id="fnref:9" class="footnote-ref"><a href="#fn:9" rel="footnote"><span class="hint--top hint--rounded" aria-label="指鰲園門廊兩側的歷史故事浮雕以及集美解放紀念碑基座一系列帶有教育啓迪民衆性質的浮雕。">[9]</span></a></sup>，<br><strong>馬前占課</strong><sup id="fnref:10" class="footnote-ref"><a href="#fn:10" rel="footnote"><span class="hint--top hint--rounded" aria-label="指鰲園門廊左側的浮雕有假託諸葛亮預言讖語的《馬前課》節選故事，根據嘉庚先生的解釋描繪了從清朝到新中國成立的歷史事件。雖說預言本是迷信，卻也從中體現了嘉庚先生對共產黨和新中國的讚美之情。">[10]</span></a></sup>，<br>誰會<strong>輿圖</strong><sup id="fnref:11" class="footnote-ref"><a href="#fn:11" rel="footnote"><span class="hint--top hint--rounded" aria-label="指集美解放紀念碑與陳嘉庚墓之間的照壁背面大有深意的五幅地圖：最上面爲世界地圖，表達了嘉庚先生擁護世界和平的願望；其下從左到右分別爲同安縣（集美和廈門島原來均屬同安縣）、臺灣省（臺灣原屬福建）、福建省、中國地圖，表達了嘉庚先生的政治理想：對家鄉的熱愛和對祖國統一的盼望。">[11]</span></a></sup>旨？<br><strong>鷺鷥</strong><sup id="fnref:12" class="footnote-ref"><a href="#fn:12" rel="footnote"><span class="hint--top hint--rounded" aria-label="即白鷺，爲廈門市鳥。廈門島早期形似白鷺，雅稱鷺島。">[12]</span></a></sup>飛過，<br>遠洋尋夢遊子。</p><section class="footnotes"><h2>註</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>集美舊稱潯尾、盡尾，因閩南方言音近而雅化地名。<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>學校的門，泛指集美學村的衆多學校。<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>兩句寫集美學村一帶中西合璧的嘉庚式建築風格。「燕尾朱甍」即閩南傳統風格的燕尾脊；「垣壁」則是西式風格的石磚牆：統稱「穿西裝，戴斗笠」。又，「合璧中西精美」暗喻「集美」地名。<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span>讚頌陳嘉庚先生當年興辦集美學校回報家鄉振興中華的義舉，時至今日集美人民仍然享受着嘉庚先生留下的這份德澤。<a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:5" class="footnote-text"><span>讚頌嘉庚先生在一個世紀前先後創辦集美學校（1918年）、廈門大學（1921年）等一系列舉措是爲了提振當時近乎一窮二白的福建現代文化教育事業；歷經百年，八閩大地因集美學村和廈大增添了許多光輝。<a href="#fnref:5" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:6" class="footnote-text"><span>指從高崎到集美的廈門大橋。之前則是高集海堤，由嘉庚先生在上世紀五十年代倡議修築。高集海堤在幾十年前一直是廈門島與大陸唯一的陸路通道；之後廈門大橋也是廈門島與大陸聯通的第一座大橋。<a href="#fnref:6" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:7" class="footnote-text"><span>指集美鰲園內的集美解放紀念碑。<a href="#fnref:7" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:8" class="footnote-text"><span>鰲園內集美解放紀念碑旁有陳嘉庚墓。紀念碑和墓均面向咫尺對岸的廈門島。<a href="#fnref:8" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:9" class="footnote-text"><span>指鰲園門廊兩側的歷史故事浮雕以及集美解放紀念碑基座一系列帶有教育啓迪民衆性質的浮雕。<a href="#fnref:9" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:10" class="footnote-text"><span>指鰲園門廊左側的浮雕有假託諸葛亮預言讖語的《馬前課》節選故事，根據嘉庚先生的解釋描繪了從清朝到新中國成立的歷史事件。雖說預言本是迷信，卻也從中體現了嘉庚先生對共產黨和新中國的讚美之情。<a href="#fnref:10" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:11" class="footnote-text"><span>指集美解放紀念碑與陳嘉庚墓之間的照壁背面大有深意的五幅地圖：最上面爲世界地圖，表達了嘉庚先生擁護世界和平的願望；其下從左到右分別爲同安縣（集美和廈門島原來均屬同安縣）、臺灣省（臺灣原屬福建）、福建省、中國地圖，表達了嘉庚先生的政治理想：對家鄉的熱愛和對祖國統一的盼望。<a href="#fnref:11" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:12" class="footnote-text"><span>即白鷺，爲廈門市鳥。廈門島早期形似白鷺，雅稱鷺島。<a href="#fnref:12" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>詩詞</category>
      
    </categories>
    
    
    <tags>
      
      <tag>詞</tag>
      
      <tag>念奴嬌</tag>
      
      <tag>平水韻</tag>
      
      <tag>廈門</tag>
      
      <tag>集美</tag>
      
      <tag>陳嘉庚</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>庚子數模國賽後感懷</title>
    <link href="/poem/CUMCM2020/"/>
    <url>/poem/CUMCM2020/</url>
    
    <content type="html"><![CDATA[<p></p><a id="more"></a><p>瀚海金山渺渺間<br>商行失汲動愁顏<br>繫<strong>紘</strong><sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="(Neural) Network，神經網絡">[1]</span></a></sup>擎<strong>炬</strong><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="PyTorch">[2]</span></a></sup>精思繼<br>罔引珠璣綴拙篇</p><p><img src="/images/CUMCM2020-B.jpg" alt="「非洲地圖」"></p><section class="footnotes"><h3>註</h3><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>(Neural) Network，神經網絡<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>PyTorch<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>詩詞</category>
      
    </categories>
    
    
    <tags>
      
      <tag>詩</tag>
      
      <tag>七言絕句</tag>
      
      <tag>今韻</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python MySQL 失聯及解決辦法</title>
    <link href="/python/PythonMySQLServerGoneAway/"/>
    <url>/python/PythonMySQLServerGoneAway/</url>
    
    <content type="html"><![CDATA[<p>2020/11/27附註：<br>本文闡述的條件是：</p><ul><li><a href="https://pypi.org/project/mysqlclient">mysqlclient 2.0.1</a></li></ul><p>而非<a href="https://pypi.org/project/MySQL-python/">MySQL-python</a>。對於MySQL-python，本身僅支持Python 2而在Python 3下安裝和運行不便（需修改配置），且已事實（de facto）停止維護。<br>事實上，建議使用新的<br><a href="https://pypi.org/project/PyMySQL/">PyMySQL</a>，並在Django項目的<code>settings.py</code>添加：</p><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymysql<span class="hljs-comment"># Avoid mysqlclient low version error</span><span class="hljs-comment"># pymysql.version_info = (1, 4, 0, &quot;final&quot;, 0)</span>pymysql.install_as_MySQLdb()</code></pre><p>其中第3行只是在未安裝mysqlclient包的前提下的權宜之計。<br>如果在Linux終端執行<code>pip3 install mysqlclient</code>時出現以下錯誤：</p><pre><code class="hljs Shell">/bin/sh: 1: mysql_config: not found/bin/sh: 1: mariadb_config: not found/bin/sh: 1: mysql_config: not found</code></pre><p>則應該先安裝libmysqlclient-dev：</p><pre><code class="hljs Bash">sudo apt install libmysqlclient-devpip3 install mysqlclient</code></pre><p>------</p><p>服務器掛載一個利用uwsgi+Django+MySQL的項目。<br>其中MySQL連接一直未關閉。<br>想要查表，網頁卻報錯了：</p><pre><code class="hljs Shell">OperationalError at /(2006, &#x27;MySQL server has gone away&#x27;)</code></pre><p>查閱了相關資料，發現是MySQL設置了非活動連接超時：</p><pre><code class="hljs Shell"><span class="hljs-meta">mysql&gt;</span><span class="bash"> show variables like <span class="hljs-string">&#x27;%timeout%&#x27;</span>;</span>+-----------------------------+----------+| Variable_name               | Value    |+-----------------------------+----------+| connect_timeout             | 10       || delayed_insert_timeout      | 300      || have_statement_timeout      | YES      || innodb_flush_log_at_timeout | 1        || innodb_lock_wait_timeout    | 50       || innodb_rollback_on_timeout  | OFF      || interactive_timeout         | 28800    || lock_wait_timeout           | 31536000 || net_read_timeout            | 30       || net_write_timeout           | 60       || rpl_stop_slave_timeout      | 31536000 || slave_net_timeout           | 60       || wait_timeout                | 28800    |+-----------------------------+----------+13 rows in set (0.00 sec)</code></pre><p>於是爲了一探究竟，直接執行<code>set global interactive_timeout=1;</code>，再用Jupyter Notebook運行了下列代碼，通過<code>conn.ping()</code>檢查連接狀態，設置<code>time.sleep(4)</code>（4s&gt;2s），復現問題：</p><pre><code class="hljs Python"><span class="hljs-keyword">import</span> MySQLdb<span class="hljs-keyword">import</span> timeconn = MySQLdb.connect(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, charset=<span class="hljs-string">&#x27;utf8mb4&#x27;</span> )curs=conn.cursor()curs.execute(<span class="hljs-string">&quot;show variables like &#x27;%timeout%&#x27;;&quot;</span>)res=curs.fetchall()time.sleep(<span class="hljs-number">4</span>)<span class="hljs-keyword">try</span>:    conn.ping()    print(<span class="hljs-string">&#x27;OK 1&#x27;</span>)<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:    print(<span class="hljs-string">&quot;MySQL connection error 1&quot;</span>)    print(str(e))    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:        <span class="hljs-keyword">try</span>:            conn = MySQLdb.connect(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, charset=<span class="hljs-string">&#x27;utf8mb4&#x27;</span> )            <span class="hljs-keyword">break</span>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:            print(<span class="hljs-string">&quot;Fail to reconnect&quot;</span>)            time.sleep(<span class="hljs-number">2</span>)            <span class="hljs-keyword">continue</span>            curs=conn.cursor()curs.execute(<span class="hljs-string">&quot;show tables;&quot;</span>)res=curs.fetchall()time.sleep(<span class="hljs-number">4</span>)<span class="hljs-keyword">try</span>:    conn.ping()    print(<span class="hljs-string">&#x27;OK 2&#x27;</span>)<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:    print(<span class="hljs-string">&quot;MySQL connection error 2&quot;</span>)    print(str(e))    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:        <span class="hljs-keyword">try</span>:            conn = MySQLdb.connect(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, charset=<span class="hljs-string">&#x27;utf8mb4&#x27;</span> )            <span class="hljs-keyword">break</span>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:            print(<span class="hljs-string">&quot;Fail to reconnect&quot;</span>)            time.sleep(<span class="hljs-number">2</span>)            <span class="hljs-keyword">continue</span>curs=conn.cursor()curs.execute(<span class="hljs-string">&quot;show tables;&quot;</span>) res=curs.fetchall()conn.close()<span class="hljs-keyword">try</span>:    conn.ping()    print(<span class="hljs-string">&#x27;OK 3&#x27;</span>)<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:    print(<span class="hljs-string">&quot;MySQL connection error 3&quot;</span>)    print(str(e))    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:        <span class="hljs-keyword">try</span>:            conn = MySQLdb.connect(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, charset=<span class="hljs-string">&#x27;utf8mb4&#x27;</span> )            <span class="hljs-keyword">break</span>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:            print(<span class="hljs-string">&quot;Fail to reconnect&quot;</span>)            time.sleep(<span class="hljs-number">2</span>)            <span class="hljs-keyword">continue</span>curs=conn.cursor()curs.execute(<span class="hljs-string">&quot;show tables;&quot;</span>) res=curs.fetchall()<span class="hljs-keyword">try</span>:    conn.ping()    print(<span class="hljs-string">&#x27;OK 4&#x27;</span>)<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:    print(<span class="hljs-string">&quot;MySQL connection error 4&quot;</span>)    print(str(e))    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:        <span class="hljs-keyword">try</span>:            conn = MySQLdb.connect(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;app&quot;</span>, charset=<span class="hljs-string">&#x27;utf8mb4&#x27;</span> )            <span class="hljs-keyword">break</span>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:            print(<span class="hljs-string">&quot;Fail to reconnect&quot;</span>)            time.sleep(<span class="hljs-number">2</span>)            <span class="hljs-keyword">continue</span></code></pre><p>結果如下：</p><pre><code class="hljs Shell">MySQL connection error 1(2006, &#x27;MySQL server has gone away&#x27;)MySQL connection error 2(2006, &#x27;MySQL server has gone away&#x27;)MySQL connection error 3(2006, &#x27;&#x27;)OK 4</code></pre><p>我們可以如此分析：</p><ul><li>前兩次<code>ping</code>，是在超過了<code>interactive_timeout</code>之後連接，勢必報錯。</li><li>第三次<code>ping</code>，由於之前關閉了<code>conn</code>，也勢必報錯。</li><li>第四次<code>ping</code>，由於緊承上面的代碼且未超過<code>interactive_timeout</code>，故而不報錯。</li></ul><p><strong>當然，實際部署時，調試用的控制檯輸出應刪去，防止uwsgi後臺掛載時無處輸出而報錯。</strong></p><p><strong>如果不是頻繁查詢，我們更推薦一次查詢一開一關。</strong></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>異常處理</tag>
      
      <tag>MySQL</tag>
      
      <tag>Django</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>來自17世紀兮漳州音</title>
    <link href="/hokkien/CameFrom17thCentury/"/>
    <url>/hokkien/CameFrom17thCentury/</url>
    
    <content type="html"><![CDATA[<p><em>Arte de la lengua Chio Chiu</em>，漢名譯做《漳州話語法》，一般認爲是17世紀西班牙天主教道明會（Dominican missionaries）傳教士佮呂宋唐儂（華人）合作佇馬尼拉編寫兮漳州方言語法冊。</p><p>原文用當時兮卡斯蒂利亞語（Castilian，也着是現代所講兮西班牙語）寫成，舉例字詞按照<code>西語羅馬字拼音</code>+<code>漢字</code>+<code>西語解釋（有時陣無）</code>兮順序。原件現在囥佇西班牙巴塞羅那大學圖書館（本文凡是涉及即本冊兮頁面截圖，攏源自這圖書館官網）。</p><p>Chio Chiu，或者拼寫做Chinchew、Chincheo等等，佇17世紀佛朗機（西班牙佮葡萄牙）儂兮各種記錄內面極捷出現，大概指代當時九龍江流域下游，以海澄月港爲中心兮「漳州」港，主要包含當時漳州府海澄縣兼龍溪縣下半縣（現在兮龍海沿海+廈門海滄）各個港口。不過，後來歐洲儂又用Chinchew指代泉州。所以佇閱讀相關歷史文獻兮時陣，愛具體分析，毋通誤賺。</p><!--Markdown![月港](../images/Yuegang.jpg)--><p><img src="/images/Yuegang.jpg" alt="月港"></p><blockquote><p>明代漳州月港。來源：《福建歷史地圖集》</p></blockquote><p>根據Chio Chiu即個拼寫，咱解使推測當時「漳州」可能是讀做Tsionn-tsiu，而毋是現在所講兮Tsiang-tsiu，類似今日「漳浦」Tsionn/Tsiunn-phóo/phóu兮「漳」字仝款用白讀音。</p><p>即本冊本身並無註明具體寫作時間地點。不過，根據冊頁內底出現「萬曆四十八年」（$\rm{B\check{a}ng\ l\overset{\bf{\tiny{|}}}{\grave{e}}g\ s\grave{y}\ ch \overset{\bf{\tiny{|}}}{\grave{a}}p\ p\overset{\bf{\tiny{|}}}{\hat{e}}\ n\bar{i}}$ ，公元1620年）、地名「民希臘」（$\rm{b\bar{i}n\ n\bar{i}\ l\overset{\bf{\tiny{|}}}{\grave{a}}}$，Manila，馬尼拉）、以及「僚氏」（$\rm{di\bar{o}\ s\check{y}}$，西語「上帝」Dios兮譯音）等文字來推測，即本冊大概是信天主教兮傳教士與唐儂合作佇1620年左右記錄，地點極有可能佇當時西班牙殖民兮菲律賓呂宋島馬尼拉。</p><p align="center">  <img src="/images/ArteChioChiuBanlek.jpg" width="50%" height="50%"></p><p>細膩兮儂發現着頂爿「萬」字拼寫做$\rm{B\check{a}ng}$，一定解懷疑是毋是有問題：當時怎解-n/-ng前後鼻不分呢？事實是，即本冊兮其他所在，凡是出現「萬」字，攏總拼寫做$\rm{B\check{a}n}$，總體上-n/-ng分明。所以有可能是當時發音儂一時讀音無準，或者是記錄者拼寫錯誤而且無更改。</p><p>除了即份材料，西班牙儂記錄兮閩南方言文獻猶有：</p><ol><li><em>Doctrina Christiana en letra y lengua china</em>（翻譯做閩南話兮漢字版《基督要理》）。</li></ol><p align="center">  <img src="/images/KiTokIauLi.png" width="60%" height="60%"></p><blockquote><p>漢字本《基督要理》。其中「啞民西士」即Amen Jesus兮漳州話譯音。</p></blockquote><ol start="2"><li>佇前兩三年，對岸「中央研究院」又佫佇菲律賓聖多瑪斯（Santo Tomas）大學檔案館揣着一本<em>Dictionario Hispánico Sinicum</em>（漢名譯做《西班牙語——華語辭典》），收錄詞條倚三萬。</li></ol><p>從公開佇網頂兮資料看，後者佮《漳州話語法》兮羅馬字拼寫方式相似，這兩份應該是目前已知上早成系統兮閩南語拉丁化拼音記錄。</p><p>大體來看，以上文獻反映兮攏是仝款腔口，也着是當時菲律賓華人主要時行兮漳州話。</p><h2>判讀示例</h2><p>關於《漳州話語法》詳細兮語音與詞彙分析，佇遮畢竟篇幅有限，暫且毋想長篇大論具體展開。<br>既然伊是<strong>來</strong>自四百年前兮資料，咱眼見爲實，罔摕其中關於「來」兮部分字詞做例子來做文章。</p><p align="center">  <img src="/images/ArteChioChiuCame.jpg" width="40%" height="40%"></p><div align="center">  <b>Exenplo(=Ejemplo) del preterito(=pretérito) perfecto<br>   (Example of the past perfect tense)<br>    （過去完成時兮例）<br>  </b></div><table><thead><tr><th>羅馬字 Romanization</th><th>漢字 Chinese Characters</th><th>卡斯蒂利亞語 Castilian</th><th>英語 English</th></tr></thead><tbody><tr><td>$\rm{gu\grave{a}\ l\bar{a}y\ l\grave{a}}$</td><td>我來朥</td><td>yo bine(=vine)</td><td>I came</td></tr><tr><td>$\rm{t\acute{a}\ mu\check{a}^n\ l\bar{a}y}$</td><td>今旦（=晏）來</td><td>denantes uino(=vino)</td><td>came a while ago</td></tr><tr><td>$\rm{l\grave{u}\ l\bar{a}y\ l\grave{a}}$</td><td>你來朥</td><td>tu beniste(=viniste)</td><td>you(singular) came</td></tr><tr><td>$\rm{\acute{y}\ l\bar{a}y\ l\grave{a}}$</td><td>伊來朥</td><td>aquel bino(=vino)</td><td>that came</td></tr><tr><td>$\rm{gu\grave{a}n\ l\bar{a}y\ l\grave{a}}$</td><td>阮來朥</td><td>nosotros venimos</td><td>we came</td></tr><tr><td>$\rm{l\check{u}n\ l\bar{a}y\ l\grave{a}}$</td><td>恁來朥</td><td>vosotros benistes(=vinisteis)</td><td>you(plural) came</td></tr><tr><td>$\rm{\acute{i}n\ l\bar{a}y\ l\grave{a}}$</td><td>因來朥</td><td>aquellos uinieron(=vinieron)</td><td>those came</td></tr></tbody></table><blockquote><ol><li>英文解釋是筆者附加，僅針對西語解釋直譯。</li><li>「朥」字原冊簡寫「𦛨」，屬於Unicode擴展漢字，可能顯示不便，今按繁體。</li><li>西語括弧內面是現代拼寫。</li><li>「今旦」佇頭前一面寫做「今晏」$\rm{t\acute{a}^n\ mu\check{a}^n}$</li></ol></blockquote><p>頂爿七行是西班牙儂按照家己母語語法理解漳州話，分析「過去完成時態」，比如講以「朥」（相當於「啦」）、「今晏」（即個意思現在好像無聽過）做標誌。</p><p>另一方面，遮對應西語解釋煞無加動詞haber（相當於英語have）兮變位，也佮怹現代標準語法有精差。~所以，咱解當通過即份資料，學習古早不標準西班牙語~（誤）。</p><p>有通看遘，迄陣兮人稱代詞與現在漳州話主流基本一致。主要差別佇語音上：</p><ul><li>「你」（或者本字「汝」）讀做陰上聲$\rm{l\grave{u}}$（推導今羅馬字lú）（現在兮角美海滄一帶，以及馬來西亞檳城、印尼棉蘭漳腔福建話如此；廈門音理論上本來也是，現在改用更普遍兮漳州音lí）</li><li>「恁」讀做陰去聲$\rm{l\check{u}n}$（推導今羅馬字lùn）（現在讀做lín）</li></ul><h2>結語</h2><p>明智兮儂知影，《漳州話語法》收錄詞彙畢竟有限，記錄也不一定完全準確。着算是專門記錄漳州話詞彙兮《西班牙語——華語辭典》，也無可能完全記落來當時兮所有語詞。雖然如此，從《漳州話語法》中，咱有通看見四百年前漳州港兮繁榮，以及大航海時代中西文化兮接觸與交流。</p><p>當然，對於即層交流，瞭解歷史兮儂也愛解記着迄陣西班牙殖民者佇菲律賓對華人兮迫害甚至歷次屠殺（間接導致國姓爺鄭成功復臺無偌久現想欲進攻呂宋，可惜伊傷早過身，壯志未酬），解記着繁榮背後兮苦難。</p><p>目<ruby>𥍉<rt>nih</rt></ruby>（⿰目聶）仔過了四個世紀，西班牙已經毋是海上霸主，Chio Chiu自明清鼎革等一系列變故了後也不復往日兮聲名遠揚，逐漸讓位予新興兮廈門港。就且用這跨越時空兮文字記錄，來去追憶迄段悠悠往事，繁華競逐；也希望母語有通流傳發展，而毋是聽候後儂重新看着遮番仔文字資料時，悲恨相續。</p>]]></content>
    
    
    <categories>
      
      <category>閩南語</category>
      
    </categories>
    
    
    <tags>
      
      <tag>漳州</tag>
      
      <tag>歷史</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>關係數據理論</title>
    <link href="/dbs/RelationData/"/>
    <url>/dbs/RelationData/</url>
    
    <content type="html"><![CDATA[<p></p><a id="more"></a><h2>問題的提出</h2><ul><li>關係數據庫邏輯設計<ul><li>針對具體問題構造適合的數據模式</li><li>關係數據庫的規範化理論</li></ul></li><li>關係模式用五元組描述$R(U,D,DOM,F)$<ul><li><strong>R</strong> 關係名</li><li><strong>U</strong> 全體屬性組</li><li><strong>D</strong> 屬性組U中的屬性所來自的域</li><li><strong>DOM</strong> 屬性到域的映射</li><li><strong>F</strong> 屬性組U上的一組數據依賴</li></ul></li></ul><p>視爲三元組$R&lt;U,F&gt;$</p><h3>第一範式（1NF, Normal Form）</h3><ul><li>對一個二維表$R$，如果它所有關係的分量都是不可分的，即稱<strong>關係模式R屬於第一範式</strong>，簡寫爲$R\in\rm{1NF}$</li></ul><h3>數據依賴</h3><ul><li>一個關係內部屬性與屬性之間的一種約束關係：通過<strong>屬性間值的相等與否</strong>體現數據間的相互聯繫</li><li>現實世界屬性間相互聯繫的抽象</li><li>數據內在的性質</li><li>語義的體現</li></ul><p>數據依賴的類型</p><ul><li>函數依賴（FD）</li><li>多值依賴（MVD）</li></ul><p>函數依賴普遍存在於現實生活中：</p><ul><li>姓名=f(學號)，系名=f(學號)</li></ul><p>記爲$Sno\rightarrow Sname, Sno\rightarrow Sdept$</p><p>對 $R&lt;U,F&gt;$ 而言，部分實例使得U上屬性具有某種“依賴”關係，無法推斷$R$的所有關係均滿足該“依賴”關係。</p><h3>例 學校教務數據庫</h3><p>包含：</p><ul><li>Sno（學生學號）</li><li>Sdept（所在系）</li><li>Mname（系主任）</li><li>Cno（課程號）</li><li>Grade（成績）</li></ul><p>即：<br>$U={Sno, Sdept, Mname, Cno, Grade}$<br>$F={Sno\rightarrow Sdept, Sdept \rightarrow Mname,(Sno,Cno)\rightarrow Grade}$</p><p>$Student&lt;U,F&gt;$ 存在的問題：系主任Mname</p><ol><li>數據冗餘</li><li>更新異常</li><li>插入異常</li><li>刪除異常</li></ol><h2>規範化</h2><h3>函數依賴</h3><p>設$R(U)$是屬性集$U$上的關係模式，$X$,$Y$是$U$的子集，若對於$R(U)$的任意一個可能的關係$r$,$r$中不可能存在兩個元組在$X$上的屬性值相等，而在$Y$上的屬性值不等，則稱$X$函數確定$Y$或$Y$函數依賴於$X$，記作$X\rightarrow Y$。</p><p>屬於語義範疇，只能根據語義來確定一個函數依賴。</p><h4>非平凡的函數依賴</h4><p>$$X\rightarrow Y,但Y\not\subseteq X$$</p><h4>平凡的函數依賴</h4><p>$$X\rightarrow Y,但Y\subseteq X$$</p><h4>完全函數依賴</h4><p>$X\rightarrow Y$，並且對於$X$的任何一個真子集$X’$,都有$X’\not\rightarrow Y$，則稱$Y$對$X$完全函數依賴，記作$X\stackrel{F}{\rightarrow}Y$<br>（胡扯：一一映射）</p><h4>部分函數依賴</h4><p>若$X\rightarrow Y$, 但$Y$不完全函數依賴於$X$，記作$X\stackrel{P}{\rightarrow}Y$</p><h4>傳遞函數依賴</h4><p>$X\rightarrow Y(Y\not\subseteq X)$, $Y\not\rightarrow X$, $Y\rightarrow Z$, $Z\not\subseteq Y$</p><ul><li>無損連接</li></ul><h3>碼</h3><p>設$K$爲$R&lt;U,F&gt;$中的屬性或屬性組合。若$K\stackrel{F}{\rightarrow}U$,則$K$稱爲$R$的一個候選碼。</p><ul><li>若$U$部分函數依賴，則$K$稱爲超碼(Superkey)</li><li>候選碼是最小的超碼，則$K$的任意一個真子集</li></ul><h4>主屬性與非主屬性</h4><h4>全碼(all-key)</h4><p>整個屬性組是碼</p><h4>外碼</h4><p>X非R的碼，但是另一個關係的碼</p><h3>範式</h3><p>滿足最低要求的叫第一範式，簡稱$\rm{1NF}$。<br>$$\rm{1NF\supset 2NF\supset 3NF\supset BCNF\supset 4NF\supset 5NF}$$</p><ul><li>規範化</li></ul><h3>2NF</h3><p>$R\in\rm{1NF}$且每個非主屬性都完全函數依賴於任何一個候選碼，則$R\in\rm{2NF}$</p><p>一個關係不屬於$\rm{2NF}$，則：</p><ul><li>插入異常</li><li>刪除異常</li><li>修改複雜</li></ul><h3>3NF</h3><p>$R&lt;U,F&gt;\in\rm{1NF}$，若R中不存在這樣的碼X，屬性組Y及非主屬性Z（$Z\not\subseteq Y$）使得$X\rightarrow Y， Y\rightarrow Z$成立，$Y\not\rightarrow X$，則$R&lt;U,F&gt;\in\rm{3NF}$</p><h3>BCNF</h3><p>$R&lt;U,F&gt;\in\rm{1NF}$，若$X\rightarrow Y$且 $Y\not\subseteq X$時X必含有碼，則$R&lt;U,F&gt;\in\rm{BCNF}$</p><p>換言之，在關係模式$R&lt;U,F&gt;$中，如果每一個決定屬性集都包含候選碼，則$R&lt;U,F&gt;\in\rm{BCNF}$<br>性質：</p><ul><li>所有非主屬性都完全函數依賴於每個候選碼</li><li>所有主屬性都完全函數依賴於每個不包含它的候選碼</li><li>沒有任何屬性完全函數依賴於非碼的任何一種屬性</li></ul><p>$R&lt;U,F&gt;\in\rm{BCNF}\Rightarrow R&lt;U,F&gt;\in\rm{3NF}$</p><h3>多值依賴</h3><h3>4NF</h3><p>關係模式$R&lt;U,F&gt;\in\rm{1NF}$，如果對於R的每個非平凡多值依賴$X\rightarrow \rightarrow Y(Y \not\subseteq X)$，X都含有碼。</p><p>限制屬性，不允許有非平凡且非函數依賴的多值依賴。</p><h3>將BCNF的R分解成4NF的方法</h3><ul><li>假設$R(A,B,C)∈\rm{BCNF}$滿足$A→→B$，$A→→C$，則分解$R$可分解爲$R_1(A,B)$和$R_2(A,C)$</li></ul><h2>數據依賴的公理系統</h2><p><strong>Armstrong公理系統</strong>：</p><ul><li>A1 自反律 若$Y\subseteq X\subseteq U$，則$X\rightarrow Y$爲$F$所蘊涵</li><li>A2 增廣律 若$X\rightarrow Y$爲$F$所蘊涵，且$Z\subset U$，則$XZ\rightarrow YZ$爲$F$所蘊涵</li><li>A3 傳遞律 若$X\rightarrow Y$及$Y\rightarrow Z$爲$F$所蘊涵，則$X\rightarrow Z$爲$F$所蘊涵</li></ul><p><strong>定理 6.1</strong> Armstrong定理是正確的。</p><p><strong>引理 6.1</strong> $X→A_1A_2…A_{k}$成立的充分必要條件是$X→A_i$成立（$i=1, 2, …, k$）。</p><p><strong>定義6.12</strong> 在關係模式$R&lt;U,F&gt;$中爲$F$所邏輯蘊涵的函數依賴的全體叫作$F$的閉包，記爲$F^{+}$</p><p><strong>定義6.14</strong> 如果$G^{+}=F^{+}$，就說函數依賴集$F$覆蓋$G$（$F$是$G$的覆蓋，或$G$是$F$的覆蓋），或$F$與$G$等價。</p><p><strong>定義6.15</strong> 如果函數依賴集$F$滿足下列條件，則稱$F$爲一個極小函數依賴集，亦稱爲<strong>最小依賴集</strong>或<strong>最小覆蓋</strong>。</p>]]></content>
    
    
    <categories>
      
      <category>數據庫系統</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DBS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CentOS安裝WordPress</title>
    <link href="/centos/CentOSWordPress/"/>
    <url>/centos/CentOSWordPress/</url>
    
    <content type="html"><![CDATA[<p></p><a id="more"></a><p>原早only配過Ubuntu server兮WordPress，今伺服器系統是CentOS 7，也來試下。</p><h2>基礎工課</h2><p>CentOS默認有mariadb（mysql一款分支）</p><pre><code class="hljs Bash">yum install -y httpd mariadb-server mysql wordpress php php-mysqlsystemctl start httpd <span class="hljs-comment">#service httpd start嘛解使</span>systemctl <span class="hljs-built_in">enable</span> httpd <span class="hljs-comment">#開機自啓動</span>systemctl start mariadbsystemctl <span class="hljs-built_in">enable</span> mariadb</code></pre><h2>配mysql</h2><pre><code class="hljs sql">mysql -u root -p<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> wordpress;<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> wordpressuser@localhost;<span class="hljs-keyword">SET</span> <span class="hljs-keyword">PASSWORD</span> <span class="hljs-keyword">FOR</span> wordpressuser@localhost= <span class="hljs-keyword">PASSWORD</span>(<span class="hljs-string">&quot;password&quot;</span>);</code></pre><p>然後對應修改<code>/usr/share/wordpress/wp-config.php</code></p><pre><code class="hljs php"><span class="hljs-comment">// ** MySQL settings - You can get this info from your web host ** //</span><span class="hljs-comment">/** The name of the database for WordPress */</span>define(<span class="hljs-string">&#x27;DB_NAME&#x27;</span>, <span class="hljs-string">&#x27;wordpress&#x27;</span>);<span class="hljs-comment">/** MySQL database username */</span>define(<span class="hljs-string">&#x27;DB_USER&#x27;</span>, <span class="hljs-string">&#x27;wordpressuser&#x27;</span>);<span class="hljs-comment">/** MySQL database password */</span>define(<span class="hljs-string">&#x27;DB_PASSWORD&#x27;</span>, <span class="hljs-string">&#x27;password&#x27;</span>);</code></pre><h2>改httpd</h2><p>修改 <code>/etc/httpd/conf/httpd.conf</code>。<br>比如汝欲將wordpress放佇<code>/wordpress</code>路徑：</p><pre><code class="hljs Shell">AcceptFilter http noneAcceptFilter https noneAlias /wordpress /usr/share/wordpress&lt;Directory /usr/share/wordpress&gt;    Options FollowSymLinks    AllowOverride Limit Options FileInfo    DirectoryIndex index.php    Require all granted &lt;/Directory&gt;&lt;Directory /usr/share/wordpress/wp-content&gt;    Options FollowSymLinks    Require all granted&lt;/Directory&gt;</code></pre><p>佇Apache 2.4版本，單</p><pre><code class="hljs Shell">Order allow, denyAllow from all</code></pre><p>兩句袂行（報權限錯誤403），只好加</p><pre><code class="hljs Shell">Require all granted</code></pre>]]></content>
    
    
    <categories>
      
      <category>CentOS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CentOS</tag>
      
      <tag>WordPress</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python異常類型彙整</title>
    <link href="/python/PythonError/"/>
    <url>/python/PythonError/</url>
    
    <content type="html"><![CDATA[<p></p><a id="more"></a><p>（本文所述Python版本：3.7）</p><p>Python的所有異常均繼承自<code>BaseExpection</code>類。</p><p>以<code>try ... expect ...</code>語句可對異常作相應處理。</p><p>用戶也可基於內置異常類派生新的異常類。如：</p><pre><code class="hljs Python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Networkerror</span>(<span class="hljs-params">RuntimeError</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, arg</span>):</span>        self.args = arg</code></pre><h2>常用內置標準異常類</h2><p>參考：<a href="https://docs.python.org/3.7/library/exceptions.html">官方文檔</a>或<a href="https://www.runoob.com/python/python-exceptions.html">菜鳥教程</a></p><table><thead><tr><th style="text-align:left">異常名稱</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">BaseException</td><td style="text-align:left">所有異常的基類</td></tr><tr><td style="text-align:left">SystemExit</td><td style="text-align:left">解釋器請求退出</td></tr><tr><td style="text-align:left">KeyboardInterrupt</td><td style="text-align:left">用戶中斷執行(通常是輸入^C)</td></tr><tr><td style="text-align:left">GeneratorExit</td><td style="text-align:left">生成器(generator)發生異常來通知退出</td></tr><tr><td style="text-align:left">Exception</td><td style="text-align:left">常規錯誤的基類（非系統異常）</td></tr><tr><td style="text-align:left">ArithmeticError</td><td style="text-align:left">所有數值計算錯誤的基類</td></tr><tr><td style="text-align:left">BufferError</td><td style="text-align:left">緩衝區相關操作無法執行</td></tr><tr><td style="text-align:left">LookupError</td><td style="text-align:left">無效數據查詢的基類</td></tr><tr><td style="text-align:left">StopIteration</td><td style="text-align:left">迭代器沒有更多的值</td></tr><tr><td style="text-align:left">StandardError</td><td style="text-align:left">所有的內建標準異常的基類</td></tr><tr><td style="text-align:left">FloatingPointError</td><td style="text-align:left">浮點計算錯誤</td></tr><tr><td style="text-align:left">OverflowError</td><td style="text-align:left">數值運算超出最大限制</td></tr><tr><td style="text-align:left">ZeroDivisionError</td><td style="text-align:left">除(或取模)零 (所有數據類型)</td></tr><tr><td style="text-align:left">AssertionError</td><td style="text-align:left">斷言語句失敗</td></tr><tr><td style="text-align:left">AttributeError</td><td style="text-align:left">對象沒有這個屬性</td></tr><tr><td style="text-align:left">EOFError</td><td style="text-align:left">沒有內建輸入,到達EOF 標記</td></tr><tr><td style="text-align:left">EnvironmentError</td><td style="text-align:left">操作系統錯誤的基類</td></tr><tr><td style="text-align:left">IOError</td><td style="text-align:left">輸入/輸出操作失敗</td></tr><tr><td style="text-align:left">OSError</td><td style="text-align:left">操作系統錯誤</td></tr><tr><td style="text-align:left">WindowsError</td><td style="text-align:left">系統調用失敗</td></tr><tr><td style="text-align:left">ImportError</td><td style="text-align:left">導入模塊/對象失敗</td></tr><tr><td style="text-align:left">IndexError</td><td style="text-align:left">序列中沒有此索引(index)</td></tr><tr><td style="text-align:left">KeyError</td><td style="text-align:left">映射中沒有這個鍵</td></tr><tr><td style="text-align:left">MemoryError</td><td style="text-align:left">內存溢出錯誤(對於Python 解釋器不是致命的)</td></tr><tr><td style="text-align:left">NameError</td><td style="text-align:left">未聲明/初始化對象 (沒有屬性)</td></tr><tr><td style="text-align:left">UnboundLocalError</td><td style="text-align:left">訪問未初始化的本地變量</td></tr><tr><td style="text-align:left">ReferenceError</td><td style="text-align:left">弱引用(Weak reference)試圖訪問已經垃圾回收了的對象</td></tr><tr><td style="text-align:left">RuntimeError</td><td style="text-align:left">一般的運行時錯誤</td></tr><tr><td style="text-align:left">NotImplementedError</td><td style="text-align:left">尚未實現的方法</td></tr><tr><td style="text-align:left">SyntaxError</td><td style="text-align:left">Python 語法錯誤</td></tr><tr><td style="text-align:left">IndentationError</td><td style="text-align:left">縮進錯誤</td></tr><tr><td style="text-align:left">TabError</td><td style="text-align:left">Tab 和空格混用</td></tr><tr><td style="text-align:left">SystemError</td><td style="text-align:left">一般的解釋器系統錯誤</td></tr><tr><td style="text-align:left">TypeError</td><td style="text-align:left">對類型無效的操作</td></tr><tr><td style="text-align:left">ValueError</td><td style="text-align:left">傳入無效的參數</td></tr><tr><td style="text-align:left">UnicodeError</td><td style="text-align:left">Unicode 相關的錯誤</td></tr><tr><td style="text-align:left">UnicodeDecodeError</td><td style="text-align:left">Unicode 解碼時的錯誤</td></tr><tr><td style="text-align:left">UnicodeEncodeError</td><td style="text-align:left">Unicode 編碼時錯誤</td></tr><tr><td style="text-align:left">UnicodeTranslateError</td><td style="text-align:left">Unicode 轉換時錯誤</td></tr><tr><td style="text-align:left">Warning</td><td style="text-align:left">警告的基類</td></tr><tr><td style="text-align:left">DeprecationWarning</td><td style="text-align:left">關於被棄用的特徵的警告</td></tr><tr><td style="text-align:left">FutureWarning</td><td style="text-align:left">關於構造將來語義會有改變的警告</td></tr><tr><td style="text-align:left">OverflowWarning</td><td style="text-align:left">舊的關於自動提升爲長整型(long)的警告</td></tr><tr><td style="text-align:left">PendingDeprecationWarning</td><td style="text-align:left">關於特性將會被廢棄的警告</td></tr><tr><td style="text-align:left">RuntimeWarning</td><td style="text-align:left">可疑的運行時行爲(runtime behavior)的警告</td></tr><tr><td style="text-align:left">SyntaxWarning</td><td style="text-align:left">可疑的語法的警告</td></tr><tr><td style="text-align:left">UserWarning</td><td style="text-align:left">用戶代碼生成的警告</td></tr></tbody></table><h2>Errno（派生自OSError）</h2><p>源自C語言的<code>errno</code>。</p><p>另，Python的<code>error</code>模塊復刻了Linux C的<code>errno.h</code>。</p><p>比如socket套接的IP地址權限不足，則會提示：</p><pre><code class="hljs Bash">[Errno 99] Cannot assign requested address.</code></pre><h2>WinError（派生自OSError）</h2><p>Windows系統下，提供Windows錯誤碼。</p><p><a href="https://docs.microsoft.com/en-us/windows/win32/debug/system-error-codes">所有的Win32錯誤信息（英文）</a></p><p>比如在Windows系統socket套接8080端口，則會提示：</p><pre><code class="hljs Bash">[WinError 10013] 以一种访问权限不允许的方式做了一个访问套接字的尝试。</code></pre>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>socket</tag>
      
      <tag>異常處理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git雜記2：復刻的repo怎拉取原repo的commit更新</title>
    <link href="/git/GitNotes-2/"/>
    <url>/git/GitNotes-2/</url>
    
    <content type="html"><![CDATA[<p></p><a id="more"></a><pre><code class="hljs Bash">git remote add <span class="hljs-built_in">source</span> git@example.com:xxx/yyy.gitgit pull <span class="hljs-built_in">source</span> mastergit push origin master</code></pre>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>GitHub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MSVC文件流的EOF</title>
    <link href="/cpp/MSVCFileStreamEOF/"/>
    <url>/cpp/MSVCFileStreamEOF/</url>
    
    <content type="html"><![CDATA[<p></p><a id="more"></a><p>項目需要用到C/C++文件流，原本讀寫UTF-8和GBK格式一切正常，但遇到jpg文件老是提前終止，甚至讀取UTF-16LE格式的文本文件也是。<br>調試排錯，發現問題出在了<code>0x1A</code>這個字符。<br>上網查閱資料，發現該字符可表示EOF，要fopen應使用&quot;b&quot;。</p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>MSVC</tag>
      
      <tag>EOF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git雜記1：按怎刪除以前兮commit記錄？</title>
    <link href="/git/GitNotes-1/"/>
    <url>/git/GitNotes-1/</url>
    
    <content type="html"><![CDATA[<p>介紹兩種：重鍊/變基。</p><a id="more"></a><h1>重鍊（Reinitialize）：完全删除以往所有commit記錄</h1><p>罔摕家己無用兮repository做例：</p><pre><code class="hljs Bash"><span class="hljs-comment"># Clone your git repo</span>git <span class="hljs-built_in">clone</span> https://github.com/unsioer/uselessgittest.git<span class="hljs-comment"># Enter your local repo</span><span class="hljs-built_in">cd</span> UselessGitTest<span class="hljs-comment"># Checkout</span>git checkout --orphan latest_branch<span class="hljs-comment"># Add all the files</span>git add -A<span class="hljs-comment"># Commit the changes</span>git commit -am <span class="hljs-string">&quot;Reinitialize&quot;</span><span class="hljs-comment"># Delete the branch</span>git branch -D master<span class="hljs-comment"># Rename the current branch to master</span>git branch -m master</code></pre><p>上尾，汝只需要<code>push</code>：</p><pre><code class="hljs Bash"><span class="hljs-comment"># Finally, force update your repository</span>git push -f origin master;</code></pre><h1>變基（Rebase）：重整以往一寡commit記錄</h1><p>若汝毋急於執行頂橛上尾彼句（執行矣也毋畏，再添加厘仔commit做試驗），來試看覓如何通過<ruby>變基<rt>piàn-ki</rt></ruby>（<code>rebase</code>）囥汝以前commit兮烏歷史(XD)，又欲保持其他commit記錄：</p><pre><code class="hljs Bash"><span class="hljs-comment"># Switch to `master` branch</span>git checkout master<span class="hljs-comment"># Find commit log. Press q to quit.</span>git <span class="hljs-built_in">log</span></code></pre><p>選擇汝欲修改兮commit(s)之前的任意一條commit記錄：</p><pre><code class="hljs Bash"><span class="hljs-comment"># Rebase a commit</span>git rebase -i c8b2314c0b1768bc1443ae4cdb82ab29878a626e</code></pre><p>咱來看跳出來兮<code>git-rebase-todo</code>，着是聽候汝處理這條commit之後所有commit記錄：</p><pre><code class="hljs Bash">pick 75198ef Update readme.mdpick c119c5b Update readme.mdpick ef9700f Update readme.md<span class="hljs-comment"># Rebase c8b2314..ef9700f onto c8b2314 (3 commands)</span><span class="hljs-comment">#</span><span class="hljs-comment"># Commands:</span><span class="hljs-comment"># p, pick &lt;commit&gt; = use commit</span><span class="hljs-comment"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span><span class="hljs-comment"># e, edit &lt;commit&gt; = use commit, but stop for amending</span><span class="hljs-comment"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span><span class="hljs-comment"># f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit&#x27;s log message</span><span class="hljs-comment"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span><span class="hljs-comment"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span><span class="hljs-comment"># d, drop &lt;commit&gt; = remove commit</span><span class="hljs-comment"># l, label &lt;label&gt; = label current HEAD with a name</span><span class="hljs-comment"># t, reset &lt;label&gt; = reset HEAD to a label</span><span class="hljs-comment"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span><span class="hljs-comment"># .       create a merge commit using the original merge commit&#x27;s</span><span class="hljs-comment"># .       message (or the oneline, if no original merge commit was</span><span class="hljs-comment"># .       specified). Use -c &lt;commit&gt; to reword the commit message.</span><span class="hljs-comment">#</span><span class="hljs-comment"># These lines can be re-ordered; they are executed from top to bottom.</span><span class="hljs-comment">#</span><span class="hljs-comment"># If you remove a line here THAT COMMIT WILL BE LOST.</span><span class="hljs-comment">#</span><span class="hljs-comment"># However, if you remove everything, the rebase will be aborted.</span><span class="hljs-comment">#</span><span class="hljs-comment"># Note that empty commits are commented out</span></code></pre><p>所以，若汝欲刪除以往一寡commits，可以改做<code>squash</code>合併，順紲可以<code>reword</code> 、<code>edit</code>等等。</p><p>改好了後，<code>push</code>，收工：</p><pre><code class="hljs Bash"><span class="hljs-comment"># Finally, force update your repository</span>git push -f origin master</code></pre>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>GitHub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>彙編語言複習筆記3：程序格式</title>
    <link href="/asm/AsmNotes-3/"/>
    <url>/asm/AsmNotes-3/</url>
    
    <content type="html"><![CDATA[<blockquote><p>彙整自教材及課件。</p></blockquote><a id="more"></a><p>硬指令 僞指令</p><h1>彙編語言程序的開發</h1><p>編譯 彙編 連接 調試</p><h2>語句格式</h2><p>標號 名字 標識符（大小寫不敏感）<br>保留字：</p><ul><li>硬指令助記符</li><li>僞指令助記符</li><li>操作符：如<code>offset</code> <code>ptr</code></li><li>寄存器名</li><li>預定義符號：如<code>@data</code></li></ul><p>助記符<br>操作數：立即數、寄存器、存儲單元<br>參數：常數、變量名、表達式等<br>註釋<br>分隔符</p><h2>程序格式</h2><h3>簡化段定義格式（MASM 6.x支持）</h3><pre><code class="hljs Assembly">.model small.stack....data....code.startup....exit 0...end</code></pre><h3>簡化段定義格式（MASM 5.x支持）</h3><pre><code class="hljs Assembly">.model small.stack....data....codestart:  mov     ax, @data        mov     ds, ax...        mov     ax, 4c00h        int     21h...end</code></pre><h3>完整段定義格式</h3><pre><code class="hljs Assembly">stack   segment stack        dw      512 dup(?)stack   endsdata    segment...data    endscode    segment &#39;code&#39;        assume  cs:code, ds:data, ss:stackstart:  mov     ax, data        mov     ds, ax...        mov     ax, 4c00h        int     21h...code    ends        end     start</code></pre><h2>開發過程</h2><ul><li>編譯：<code>edit.com</code><br><code>edit hello.asm</code></li><li>彙編：<code>ml.exe</code><br><code>ml /c hello.asm</code>或<code>masm hello.asm</code>生成<code>hello.obj</code></li><li>連接：<code>link.exe</code><br><code>link hello.obj</code>生成<code>hello.exe</code><br><code>ml hello.asm</code>自動完成以上兩步。<br><code>ml /fl /sg hello.asm</code>還生成列表文件<code>hello.lst</code>，含源程序和目標代碼。</li><li>調試：<code>debug.exe</code><br><code>debug hello.exe</code></li></ul><h1>參數 變量 標號</h1><p>數值型參數：</p><ul><li>常數<ul><li>十進制常數：d結尾（可省略）</li><li>十六進制常數：q結尾</li><li>二進制常數：b結尾</li><li>八進制常數：q結尾</li><li>字符串常數：<code>'balabala'</code></li><li>符號常數<ul><li><code>EQU</code>僞指令<br><code>符號名 equ 數值表達式/字符串</code></li><li><code>=</code>僞指令<br><code>符號名 = 數值表達式</code></li></ul></li></ul></li><li>數值表達式<ul><li>算術運算符</li><li>邏輯運算符</li><li>移位運算符</li><li>關係運算符</li><li>高低運算符</li></ul></li></ul><p>變量定義僞指令：<br>變量名 僞指令助記符 初值表</p><ul><li>初值表：數值常數、表達式、<code>?</code>、<code>DUP</code><ul><li><code>DUP</code>格式：<code>重複次數 DUP(重複參數)</code></li></ul></li><li>僞指令助記符：<ul><li><code>DB</code></li><li><code>DW</code></li><li><code>DD</code></li><li>…</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>Assembly</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Assembly</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>彙編語言複習筆記2：指令系統</title>
    <link href="/asm/AsmNotes-2/"/>
    <url>/asm/AsmNotes-2/</url>
    
    <content type="html"><![CDATA[<blockquote><p>彙整自個人OneNote筆記。</p></blockquote><a id="more"></a><h1>指令格式</h1><pre><code class="hljs Assembly">標號:   指令助記符 目的操作數, 源操作數 ; 註釋</code></pre><h1>數據傳送類指令</h1><p><strong>重點掌握：<code>MOV</code> <code>XCHG</code> <code>XLAT</code> <code>PUSH</code> <code>POP</code> <code>LEA</code></strong></p><h2>通用數據傳送指令</h2><h3>傳送指令 <code>MOV</code></h3><pre><code class="hljs Assembly">mov     byte ptr [si], 0ah  ; ds:[si]←0ah，字節操作mov     word ptr [si+2], 0bh; ds:[si+2]←0bh，字操作</code></pre><h3>交換指令 <code>XCHG</code></h3><pre><code class="hljs Assembly">xchg    reg, reg&#x2F;mem        ; reg←→reg&#x2F;mem，也可寫做xchg reg&#x2F;mem, reg</code></pre><h3>換碼指令 <code>XLAT</code></h3><pre><code class="hljs Assembly">xlat                        ; al←ds:[bx+al]</code></pre><h2>堆棧操作指令</h2><pre><code class="hljs Assembly">push&#x2F;pop r16</code></pre><h3>進棧指令 <code>PUSH</code></h3><p>使<code>SP</code>減2，把一個字操作數存入棧頂。</p><h3>出棧指令 <code>POP</code></h3><p>把一個字操作數傳送至目的操作數，使<code>SP</code>加2。</p><h2>標誌傳送指令</h2><p>標誌寄存器傳送指令傳送<code>FLAGS</code>的內容；標誌位操作指令對<code>CF</code> <code>DF</code> <code>IF</code>標誌復位或置位。</p><h3>標誌寄存器傳送 <code>LAHF</code> <code>SAHF</code> <code>PUSHF</code> <code>POPF</code></h3><pre><code class="hljs Assembly">lahf                        ; AH←FLAGS的低字節sahf                        ; FLAGS的低字節←AH;（上兩條指令，除AH的第7&#x2F;6&#x2F;2&#x2F;4&#x2F;0位外任意）pushf                       ; SP←SP-2，SS:[SP]←FLAGSpopf                        ; FLAGS←SS:[SP]，SP←SP+2</code></pre><h3>標誌位操作 <code>CLC</code> <code>STC</code> <code>CMC</code> <code>CLD</code> <code>STD</code> <code>CLI</code> <code>STI</code></h3><p>對<code>CF</code>/<code>DF</code>/<code>IF</code>標誌復位或置位。<br>CL：復位爲0<br>ST：置位爲1<br>CM：求反</p><ul><li><p>任意設置進位標誌：<code>CLC</code> <code>STC</code> <code>CMC</code></p></li><li><p>串操作指令：<code>CLD</code> <code>STD</code></p></li><li><p>編寫中斷服務程序時，禁止/允許可屏蔽中斷：<code>CLI</code> <code>STI</code></p></li></ul><h2>地址傳送指令</h2><h3>有效地址傳送指令 <code>LEA</code></h3><pre><code class="hljs Assembly">lea     r16, mem            ; r16←mem的有效地址</code></pre><h3>指針傳送指令 <code>LDS</code> <code>LES</code></h3><pre><code class="hljs Assembly">lds     r16, mem            ; r16←mem，ds←mem+2les     r16, mem            ; r16←mem，es←mem+2</code></pre><h2>輸入輸出指令</h2><p>與外設進行數據交換。<br>外設：端口(Port)即I/O地址</p><h3>輸入指令 <code>IN</code></h3><h3>輸出指令 <code>OUT</code></h3><h1>算術運算類指令</h1><p><strong>重點：<code>ADD</code>/<code>ADC</code>/<code>INC</code> <code>SUB</code>/<code>SBB</code>/<code>DEC</code> <code>CBW</code>/<code>CWD</code></strong></p><h2>加法指令</h2><h3>加法指令 <code>ADD</code></h3><h3>帶進位加法指令 <code>ADC</code></h3><p>主要與<code>ADD</code>配合，實現多精度加法。</p><pre><code class="hljs Assembly">adc     dest, src               ; dest←dest+src+cf</code></pre><h3>增量指令 <code>INC</code></h3><h2>減法指令</h2><p>參考對應的加法指令。</p><h3>減法指令 <code>SUB</code></h3><h3>帶借位減法指令 <code>SBB</code></h3><h3>減量指令 <code>DEC</code></h3><h2>其他</h2><h3>求補指令 <code>NEG</code></h3><p>用0減去操作數，結果返回給操作數。<br>對標誌的影響與用0作減法的<code>SUB</code>指令一樣。</p><pre><code class="hljs Assembly">neg     reg&#x2F;mem                 ; reg&#x2F;mem←0-reg&#x2F;mem</code></pre><h3>比較指令 <code>CMP</code></h3><p>執行的功能與<code>SUB</code>相似，但結果不回送至目的操作數。<br>配合<code>Jcc</code>。</p><h2>乘法指令</h2><p>利用<code>OF</code>和<code>CF</code>判斷乘積的高一半是否具有有效數值。</p><p><code>MUL</code>：高一半爲0，則<code>OF</code>=<code>CF</code>=0；否則均爲1。</p><p><code>IMUL</code>：高一半爲低一半的符號擴展，則<code>OF</code>=<code>CF</code>=0；否則均爲1。</p><h3>無符號乘法 <code>MUL</code></h3><pre><code class="hljs Assembly">mul     r8&#x2F;m8                   ; 無符號字節乘法，ax←al×r8&#x2F;m8mul     r16&#x2F;m16                 ; 無符號字乘法，dx.ax←ax×r16&#x2F;m16</code></pre><h3>有符號乘法 <code>IMUL</code></h3><pre><code class="hljs Assembly">imul     r8&#x2F;m8                  ; 有符號字節乘法，ax←al×r8&#x2F;m8imul     r16&#x2F;m16                ; 有符號字乘法，dx.ax←ax×r16&#x2F;m16</code></pre><h2>除法指令</h2><p>對標誌沒有定義。<br>會產生結果溢出（除法錯中斷，8086CPU編號爲0的內部中斷）：</p><ul><li>除數爲0</li><li>商超出範圍</li></ul><h3>無符號除法 <code>DIV</code></h3><pre><code class="hljs Assembly">div     r8&#x2F;m8                   ; 無符號字節乘法，al←ax÷r8&#x2F;m8的商，ah←ax÷r8&#x2F;m8的餘數div     r16&#x2F;m16                 ; 無符號字乘法，ax←dx.ax÷r16&#x2F;m16的商，dx←dx.ax÷r16&#x2F;m16的餘數</code></pre><h3>有符號除法 <code>IDIV</code></h3><pre><code class="hljs Assembly">idiv     r8&#x2F;m8                  ; 有符號字節乘法，al←ax÷r8&#x2F;m8的商，ah←ax÷r8&#x2F;m8的餘數idiv     r16&#x2F;m16                ; 有符號字乘法，ax←dx.ax÷r16&#x2F;m16的商，dx←dx.ax÷r16&#x2F;m16的餘數</code></pre><h2>符號擴展指令 <code>CBW</code> <code>CWD</code></h2><p>不影響標誌位，常用於獲得倍長的數據。<br>如<code>64H</code>（表示十進制100）最高位$D_7$爲0，符號擴展後爲<code>0064H</code>（仍表示十進制100）；<code>FF00H</code>（表示十進制-256）最高位$D_{15}$爲1，符號擴展後爲<code>FFFFFF00H</code>（仍表示十進制256）。<br>利用符號擴展指令可得到除法指令所需的倍長於除數的被除數。</p><pre><code class="hljs Assembly">cwdidiv bx</code></pre><p>對無符號除法：直接清零即可。</p><h2>壓縮BCD碼加減調整指令<code>DAA</code> <code>DAS</code></h2><p>對<code>OF</code>無定義，但影響其他標誌，比如<code>CF</code>。</p><pre><code class="hljs Assembly">add&#x2F;adc al, i8&#x2F;r8&#x2F;m8daa                             ; 將al的加和調整爲壓縮BCD碼sub&#x2F;sub al, i8&#x2F;r8&#x2F;m8das                             ; 將al的減差調整爲壓縮BCD碼</code></pre><h2>非壓縮BCD碼加減乘除調整指令<code>AAA</code> <code>AAS</code> <code>AAM</code> <code>AAD</code></h2><pre><code class="hljs Assembly">add&#x2F;adc al, i8&#x2F;r8&#x2F;m8aaa                             ; 將al的加和調整爲壓縮BCD碼                                ; ah←ah+調整的進位sub&#x2F;sub al, i8&#x2F;r8&#x2F;m8aas                             ; 將al的減差調整爲壓縮BCD碼                                ; ah←ah-調整的借位mul     r8&#x2F;m8aam                             ; 將ax的乘積調整爲非壓縮BCD碼aad                             ; 將ax中非壓縮BCD碼調整爲二進制數div     r8&#x2F;m8</code></pre><h1>位操作類指令</h1><h2>邏輯運算指令</h2><h3>邏輯與 <code>AND</code></h3><p>皆1方爲1。</p><pre><code class="hljs Assembly">add     reg, imm&#x2F;reg&#x2F;memadd     mem, imm&#x2F;reg</code></pre><p><code>CF</code>=<code>OF</code>=0；<code>SF</code> <code>ZF</code> <code>PF</code>根據結果；<code>AF</code>未定義。<br>可用於復位（0相與，1變0）。</p><h3>邏輯或 <code>OR</code></h3><p>皆0方爲0。<br>標誌位變化同<code>AND</code>。<br>可用於置位（1相或，0變1）。</p><h3>邏輯異或 <code>XOR</code></h3><p>不同方爲1。<br>標誌位變化同<code>AND</code>。<br>可用於求反（1相異或，1變0，0變1）；自身<code>XOR</code>則清零。</p><h3>邏輯非 <code>NOT</code></h3><p>按位取反，不影響標誌位。</p><pre><code class="hljs Assembly">not     reg&#x2F;mem</code></pre><h3>測試指令 <code>TEST</code></h3><p>類似<code>AND</code>，結果不返回至操作數。</p><pre><code class="hljs Assembly">test    al, 01h             ; 測試最後一位是否爲0（是則ZF&#x3D;1）</code></pre><h2>移位指令</h2><h3>邏輯左移 <code>SHL</code></h3><pre><code class="hljs Assembly">shl     reg&#x2F;mem, 1&#x2F;cl       ; 邏輯左移1&#x2F;cl位（最低位補0，最高位進入CF）</code></pre><h3>邏輯右移 <code>SHR</code></h3><pre><code class="hljs Assembly">shr     reg&#x2F;mem, 1&#x2F;cl       ; 邏輯右移1&#x2F;cl位（最高位補0，最低位進入CF）</code></pre><h3>算術左移 <code>SAL</code></h3><pre><code class="hljs Assembly">sal     reg&#x2F;mem, 1&#x2F;cl       ; 算術左移1&#x2F;cl位（同SHL）</code></pre><h3>算術右移 <code>SAR</code></h3><pre><code class="hljs Assembly">sar     reg&#x2F;mem, 1&#x2F;cl       ; 算術右移1&#x2F;cl位（最高位不變，最低位進入CF）</code></pre><h3>小結</h3><p>若最高位改變：<code>OF</code>=1</p><ul><li><p><code>shl</code>/<code>sal</code> 1位相當於無符號數乘2</p></li><li><p><code>shr</code> 1位相當於無符號數除以2</p></li><li><p><code>sar</code> 1位相當於有符號數除以2（與<code>idiv</code>有別）</p><ul><li>如-5(FBH)經<code>SAR</code>右移1位等於-3(FDH)，但<code>IDIV</code>指令執行-5÷2結果爲-2</li></ul></li></ul><h2>循環移位指令 <code>ROL</code> <code>ROR</code> <code>RCL</code> <code>RCR</code></h2><pre><code class="hljs Assembly">rol     reg&#x2F;mem, 1&#x2F;cl       ; 不帶進位循環左移  ror     reg&#x2F;mem, 1&#x2F;cl       ; 不帶進位循環右移  rcl     reg&#x2F;mem, 1&#x2F;cl       ; 帶進位循環左移  rcr     reg&#x2F;mem, 1&#x2F;cl       ; 帶進位循環右移</code></pre><h1>控制轉移類指令</h1><p><strong>重點</strong>：<code>JMP</code> <code>JCC</code> <code>LOOP</code> <code>CALL</code> <code>RET</code> <code>INT n</code> <code>IRET</code> 常用系統功能調用</p><p><code>CS</code>：當前指令所在代碼段的段地址</p><p><code>IP</code>：要執行的下一條指令的偏移地址</p><h2>無條件轉移指令 <code>JMP</code></h2><p>段內轉移：</p><ul><li><strong>近轉移</strong>（near）：在當前代碼段64KB（±32KB）範圍內轉移。</li><li><strong>短轉移</strong>（short）：在段內-128~127的範圍的轉移。</li></ul><p>段間轉移：</p><ul><li><strong>遠轉移</strong>（far）：更改<code>CS</code>段地址和<code>IP</code>偏移地址。可在1MB範圍內轉移。目標地址用32位遠指針表示，即邏輯地址。</li></ul><p>通常彙編程序根據位移量大小自動形成短轉移/近轉移/遠轉移指令。同時彙編程序也提供<code>short</code>或<code>near ptr</code>或<code>far ptr</code>強制。</p><ul><li><p>段內轉移 相對尋址：<code>jmp label</code> ; <code>ip</code>←<code>ip</code>+位移量</p></li><li><p>段內轉移 間接尋址：<code>jmp r16/m16</code> ; <code>ip</code>←<code>r16/m16</code></p></li></ul><pre><code class="hljs Assembly">jmp     axjmp     word ptr[2000h]</code></pre><ul><li><p>段間轉移 直接尋址：<code>jmp far ptr label</code> ; <code>ip</code>←<code>label</code>的偏移地址，<code>cs</code>←<code>label</code>的段地址</p></li><li><p>段間轉移 間接尋址：<code>jmp far ptr mem</code> ; <code>ip</code>←<code>[mem]</code>，<code>cs</code>←<code>[mem+2]</code></p></li></ul><h2>條件轉移指令 <code>Jcc</code></h2><pre><code class="hljs Assembly">jcc     label</code></pre><h3>判斷單個標誌位狀態</h3><ul><li><p><code>JZ</code>/<code>JE</code>和<code>JNZ</code>/<code>JNE</code>利用<code>ZF</code>，判斷結果是否爲0（或相等）</p></li><li><p><code>JS</code>和<code>JNS</code>利用<code>SF</code>，判斷結果正負</p></li><li><p><code>JO</code>和<code>JNO</code>利用<code>OF</code>，判斷結果是否溢出</p></li><li><p><code>JP</code>/<code>JPE</code>和<code>JNP</code>/<code>JPO</code>利用<code>PF</code>，判斷結果中1的個數奇偶</p></li><li><p><code>JC</code>/<code>JB</code>/<code>JNAE</code>和<code>JNC</code>/<code>JNB</code>/<code>JAE</code>利用<code>CF</code>，判斷結果是否進位/借位</p></li></ul><h3>比較無符號數高低</h3><p>高（Above）、低（Below）。<br>利用<code>CF</code>確定高低，利用<code>ZF</code>確定相等。</p><ul><li><p><code>JB</code>/<code>JNAE</code></p></li><li><p><code>JNB</code>/<code>JAE</code></p></li><li><p><code>JBE</code>/<code>JNA</code></p></li><li><p><code>JNBE</code>/<code>JA</code></p></li></ul><h3>比較有符號數大小</h3><p>大（Greater）、小（Less）。<br>利用<code>SF</code>和<code>OF</code>確定大小，利用<code>ZF</code>確定相等。</p><ul><li><p><code>JL</code>/<code>JNGE</code></p></li><li><p><code>JNL</code>/<code>JGE</code></p></li><li><p><code>JLE</code>/<code>JNG</code></p></li><li><p><code>JNLE</code>/<code>JG</code></p></li></ul><h2>循環指令 <code>LOOP</code></h2><pre><code class="hljs Assembly">jcxz    label   ; cx&#x3D;0則轉移到標號labelloop    label   ; cx←cx-1；cx≠0則轉移到labelloopz   label   ; cx←cx-1；cx≠0且zf&#x3D;1則轉移到labelloopnz  label   ; cx←cx-1；cx≠0且zf&#x3D;0則轉移到label</code></pre><h2>子程序指令 <code>CALL</code> <code>RET</code></h2><h3>子程序調用指令 <code>CALL</code></h3><pre><code class="hljs Assembly">CALL    label           ; 段內調用 直接尋址CALL    r16&#x2F;m16         ; 段內調用 間接尋址CALL    far ptr label   ; 段間調用 直接尋址CALL    far ptr mem     ; 段間調用 間接尋址</code></pre><p><code>CALL</code>指令需要保存返回地址：</p><ul><li><p>段內調用：入棧偏移地址<code>IP</code></p><ul><li><code>SP</code>←<code>SP</code>-2，<code>SS:[SP]</code>←<code>IP</code></li></ul></li><li><p>段間調用：入棧偏移地址IP和段地址CS</p><ul><li><code>SP</code>←<code>SP</code>-2，<code>SS:[SP]</code>←<code>IP</code></li><li><code>SP</code>←<code>SP</code>-2，<code>SS:[SP]</code>←<code>CS</code></li></ul></li></ul><h3>子程序返回指令 <code>RET</code></h3><pre><code class="hljs Assembly">ret             ; 無參數段內返回ret     i16     ; 有參數段內返回ret             ; 無參數段間返回ret     i16     ; 有參數段間返回</code></pre><p>需要彈出<code>CALL</code>指令壓入堆棧的返回地址。</p><ul><li><p>段內返回：出棧偏移地址<code>IP</code></p><ul><li><code>IP</code>←<code>SS:[SP]</code>，<code>SP</code>←<code>SP</code>+2</li></ul></li><li><p>段间返回：出棧偏移地址<code>IP</code>和段地址<code>CS</code></p><ul><li><code>IP</code>←<code>SS:[SP]</code>，<code>SP</code>←<code>SP</code>+2</li><li><code>CS</code>←<code>SS:[SP]</code>，<code>SP</code>←<code>SP</code>+2</li></ul></li></ul><h4>返回指令<code>RET</code>的參數</h4><pre><code class="hljs Assembly">ret i16         ; SP←SP+i16</code></pre><p>可以方便廢除執行<code>CALL</code>指令之前入棧的參數。</p><h2>中斷指令 <code>INT i8</code> <code>IRET</code> <code>INTO</code></h2><p>8086可管理256个中斷。</p><ul><li><p>外部中斷</p><ul><li>可屏蔽中斷：可由CPU中斷允许標誌<code>IF</code>控制</li><li>非屏蔽中斷：不受CPU中斷允许標誌<code>IF</code>控制</li></ul></li><li><p>內部中斷</p><ul><li>除法錯中斷：溢出，0號中斷</li><li>指令中斷：中斷調用指令 <code>INT i8</code></li><li>斷點中斷：斷點調試 <code>INT 3</code></li><li>溢出中斷：執行溢出中斷指令，<code>OF</code>=1產生的4號中斷</li><li>單步中斷：<code>TF</code>=1在每條指令執行後產生的1號中斷</li></ul></li></ul><pre><code class="hljs Assembly">int     i8      ; 中斷調用（產生i8號中斷）iret            ; 中斷返回into            ; 溢出中斷指令：若OF&#x3D;1，產生4號中斷，否則順序執行</code></pre><h2>系統功能調用</h2><h3>INT 21H，<code>AH</code>=02H 輸出字符</h3><p><code>DL</code>=字符的ASCII碼</p><h3>INT 10H，<code>AH</code>=0EH 輸出字符</h3><p><code>AL</code>=字符的ASCII碼</p><p><code>BL</code>=字符顏色值（圖形方式）</p><p><code>BH</code>=頁號（字符方式）</p><p>（通常使BX=0）</p><h3>INT 21H，<code>AH</code>=09H 輸出字符串</h3><p><code>DS</code>:<code>DX</code>=欲顯示字符串在主存中的首地址，以$(24H)結束</p><h3>INT 21H，<code>AH</code>=01H 輸入字符</h3><p><code>AL</code>=字符的ASCII碼</p><h3>INT 16H，<code>AH</code>=0 輸入字符</h3><p><code>AX</code>=鍵值代碼</p><p>標準ASCII碼按鍵：<code>AL</code>=ASCII碼，<code>AH</code>=掃描碼<br>…</p><h3>INT 21H，<code>AH</code>=0AH 輸入字符串</h3><p><code>DS</code>:<code>DX</code>=緩衝區首地址</p><h4>緩衝區的定義</h4><ul><li>第1字節：最多欲接收的字符個數（1-255，含回車）</li><li>第2字節：實際輸入的字符個數</li><li>第3字節開始：輸入的字符串</li></ul><h3>INT 21H，<code>AH</code>=0BH 按鍵判斷</h3><p><code>AL</code>=0，當前沒有按鍵；</p><p><code>AL</code>=FFH，當前已經按鍵。<br>僅判斷當前是否有按下的鍵，設置<code>AL</code>後退出。</p><h3>INT 16H，<code>AH</code>=1 按鍵判斷</h3><p><code>ZF</code>=1，無按鍵；</p><p><code>ZF</code>=0，有按鍵，且<code>AX</code>=鍵值代碼。<br>僅判斷當前是否有按下的鍵，設置<code>ZF</code>後退出。</p><h1>串操作類指令</h1><p>重點：<code>MOVS</code> <code>STOS</code> <code>LODS</code> <code>CMPS</code> <code>SCAS</code> <code>REP</code></p><h2>串尋址方式</h2><ul><li><p>源操作數：<code>SI</code>尋址，默認<code>DS</code>段，允許段超越</p></li><li><p>目的操作數：<code>DI</code>尋址，默認<code>ES</code>段，不允許段超越</p></li></ul><p><code>SI</code> <code>DI</code>自動修改（增減1或2）</p><p><code>CLD</code>，<code>DF</code>=0，地址指針增1或2</p><p><code>STD</code>，<code>DF</code>=1，地址指針減1或2</p><h2>串傳送 <code>MOVSB</code> <code>MOVSW</code></h2><p><code>ES:[DI]</code>←<code>DS:[SI]</code></p><p><code>SI</code> <code>DI</code>加減1或2</p><h2>串存儲 <code>STOSB</code> <code>STOSW</code></h2><p><code>ES:[DI]</code>←<code>AL</code>/<code>AX</code></p><p><code>DI</code>加減1或2</p><h2>串讀取 <code>LODSB</code> <code>LODSW</code></h2><p><code>AL</code>/<code>AX</code>←<code>DS:[SI]</code></p><p><code>SI</code>加減1或2</p><h2>串比較 <code>CMPSB</code> <code>CMPSW</code></h2><p><code>DS:[SI]</code>-<code>ES:[DI]</code></p><p><code>SI</code> <code>DI</code>加減1或2</p><h2>串掃描 <code>SCASB</code> <code>SCASW</code></h2><p><code>AL</code>/<code>AX</code>-<code>ES:[DI]</code></p><p><code>DI</code>加減1或2</p><h2>重複前綴指令 <code>REP</code> <code>REPZ</code> <code>REPNZ</code></h2><h3>配合不影響標誌的<code>MOVS</code> <code>STOS</code> <code>LODS</code>：<code>REP</code>前綴</h3><p>如 <code>rep movsb</code>相當於：</p><pre><code class="hljs Assembly">again:  movsb        dec cx        jnz again</code></pre><p><code>rep stosw</code>相當於：</p><pre><code class="hljs Assembly">again:  stosw        dec cx        jnz again</code></pre><h3>配合影響標誌的<code>CMPS</code> <code>SCAS</code>：<code>REPZ</code> <code>REPNZ</code>前綴</h3><p><code>REPZ</code>/<code>REPE</code>相當於：<code>CX</code>≠0且<code>ZF</code>=1則繼續比較。</p><p><code>REPNZ</code>/<code>REPNE</code>相當於：<code>CX</code>≠0且<code>ZF</code>=0則繼續比較。</p><h2>處理機控制類指令</h2><h3>空操作指令 <code>NOP</code></h3><p>不執行任何操作，佔用一個字節存儲單元，空耗一個指令執行週期。<br>常用於程序調試。</p><h3>段超越前綴指令 <code>CS:</code> <code>SS:</code> <code>DS:</code> <code>ES:</code></h3><h3>封鎖前綴指令 <code>LOCK</code></h3><h3>暫停指令 <code>HLT</code></h3><h3>交權指令 <code>ESC</code></h3><pre><code class="hljs Assembly">esc     i6, reg&#x2F;mem</code></pre><p>8086浮點指令交給8087執行。</p><h3>等待指令 <code>WAIT</code></h3><p>實現8086與8087同步運行。</p>]]></content>
    
    
    <categories>
      
      <category>Assembly</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Assembly</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>彙編語言複習筆記1：基礎知識</title>
    <link href="/asm/AsmNotes-1/"/>
    <url>/asm/AsmNotes-1/</url>
    
    <content type="html"><![CDATA[<blockquote><p>彙整自個人OneNote筆記。<br>僅記錄重點，不記例題。</p></blockquote><a id="more"></a><h1>二進制編碼</h1><p>位 字節 字<br>進制 進制轉換<br>(略)</p><ul><li><strong>原碼</strong>：最高位表示符號（正0負1），其他位直接表示數值大小。</li><li><strong>反碼</strong>：正數反碼與原碼相同；負數反碼爲它的相反數（正數）各位（含符號位）按位取反而形成。</li><li><strong>補碼</strong>：正數反碼與原碼相同；負數反碼爲它的相反數（正數）補碼取反再加1。</li></ul><table><thead><tr><th style="text-align:center">十進制數</th><th style="text-align:center">原碼</th><th style="text-align:center">反碼</th><th style="text-align:center">補碼</th></tr></thead><tbody><tr><td style="text-align:center">21</td><td style="text-align:center">00010101</td><td style="text-align:center">00010101</td><td style="text-align:center">00010101</td></tr><tr><td style="text-align:center">-21</td><td style="text-align:center">10010101</td><td style="text-align:center">11101010</td><td style="text-align:center">11101011</td></tr></tbody></table><h1>BCD碼（8421 BCD碼）</h1><p>十進制數位用4位二進制（1位十六進制）編碼表示，如用<code>88H</code>代表十進制的88。</p><ul><li><strong>非壓縮BCD</strong>：1字節表達1位BCD碼（高4位爲0）。</li><li><strong>壓縮BCD</strong>：1字節表達2位BCD碼。</li></ul><h1>ASCII</h1><p>（略）</p><h1>8086寄存器</h1><h2>通用寄存器</h2><h3>數據寄存器</h3><ul><li><code>AX</code> (<code>AH</code>/<code>AL</code>) 累加器：算術、邏輯運算，與外設傳送信息</li><li><code>BX</code> (<code>BH</code>/<code>BL</code>) 基址寄存器：存放存儲器地址</li><li><code>CX</code> (<code>CH</code>/<code>CL</code>) 計數器：循環操作等指令中的計數器</li><li><code>DX</code> (<code>DH</code>/<code>DL</code>) 數據寄存器：存放數據，在輸入輸出指令中存放外設端口地址</li></ul><h3>變址寄存器</h3><ul><li><code>SI</code> 源變址寄存器： 指向源操作數</li><li><code>DI</code> 目的變址寄存器：指向目的操作數</li></ul><h3>指針寄存器</h3><ul><li><code>BP</code> 基址指針：默認指向堆棧數據，主要用於子程序中訪問通過堆棧傳遞的參數和局部變量</li><li><code>SP</code> 堆棧指針：總是指向堆棧頂部，在涉及堆棧操作的指令中會自動增加或減少</li></ul><h2>標誌寄存器 <code>FLAGS</code></h2><p>6狀態標誌 3控制標誌</p><table><thead><tr><th>11</th><th>10</th><th>9</th><th>8</th><th>7</th><th>6</th><th>4</th><th>2</th><th>0</th></tr></thead><tbody><tr><td>OF</td><td>DF</td><td>IF</td><td>TF</td><td>SF</td><td>ZF</td><td>AF</td><td>PF</td><td>CF</td></tr></tbody></table><ul><li>進位標誌 <code>CF</code> (Carry Flag)：反映（無符號數）加減運算最高位（$D_7$）有無進位/借位，有爲1。</li><li>奇偶標誌 <code>PF</code> (Parity Flag)：最低字節1的奇偶個數，偶數爲1。</li><li>零標誌 <code>ZF</code> (Zero Flag)：運算結果是否爲0，是爲1。</li><li>符號標誌 <code>SF</code> (Sign Flag)：運算結果最高位爲1，<code>SF</code>=1；否則<code>SF</code>=0。對有符號數來說，相當於判斷正負。</li><li>溢出標誌 <code>OF</code> (Overflow Flag)：反映（有符號數）運算結果是否溢出，有爲1。</li><li>輔助進位標誌/調整標誌 <code>AF</code> (Auxiliary Carry Flag/Adjust Flag)：反映加減運算最低半字節（$D_3$向$D_4$）有無進位/借位，有爲1（由處理器內部使用，一般不必關心）。</li><li>方向標誌 <code>DF</code> (Direction Flag)：用於串操作指令中控制地址的變化方向，0爲自動增加，1爲自動減少。<ul><li><code>CLD</code>指令復位：<code>DF</code>=0</li><li><code>STD</code>指令置位：<code>DF</code>=1</li></ul></li><li>中斷允許標誌 <code>IF</code> (Interrupt-enable Flag)：控制外部可屏蔽中斷是否可以被處理器響應，1爲允許中斷，0爲禁止中斷。<ul><li><code>CLI</code>指令復位：<code>IF</code>=0</li><li><code>STI</code>指令置位：<code>IF</code>=1</li></ul></li><li>陷阱標誌 <code>TF</code> (Trap Flag)：控制處理器是否進入單步操作方式，0爲正常工作，1爲單步執行指令。</li></ul><h2>指令指針寄存器 <code>IP</code></h2><p>與代碼段寄存器<code>CS</code>聯用，確定下一條指令的物理地址。<br>計算機通過<code>CS:IP</code>控制指令序列執行流程。<br>而<code>IP</code>具有自動增量功能，不能直接賦值修改。</p><h2>段寄存器</h2><ul><li><code>CS</code> 代碼段寄存器：指明代碼段起始地址</li><li><code>SS</code> 堆棧段寄存器：指明堆棧段起始地址</li><li><code>DS</code> 數據段寄存器：指明數據段起始地址</li><li><code>ES</code> 附加段寄存器：指明附加段起始地址</li></ul><h1>存儲器組織</h1><h2>數據存儲格式</h2><ul><li>Word 字：2字節</li><li>Double Word 雙字：4字節</li></ul><p>小端方式：字或雙字存放時，低字節存入低地址，高字節存入高地址；字或雙字單元的地址用它的低地址表示。<br>邊界對齊（Align）：16位2字節數據起始偶地址，32位4字節數據起始模4地址。</p><h2>分段管理</h2><p>8086CPU用16位字長可表達16位存儲器地址（0000H~FFFFH），即$2^{16}\rm{B}=64\rm{KB}$容量。但是，8086CPU的地址線有20位，最大可尋址空間爲$2^{20}\rm{B}=1\rm{MB}$，其物理地址範圍爲00000H~FFFFFH。</p><p>邏輯段（Segment）：最大64KB。<br>段基地址（段地址）：邏輯段在主存中的起始位置。8086段地址必須是模16地址，即<code>xxxx0H</code>形式。<br>段內偏移地址：距離段起始位置的偏移量。</p><p><strong>物理地址</strong>（絕對地址）：每個存儲器單元唯一的20位地址。<br><strong>邏輯地址</strong>：形式爲「<code>段地址:偏移地址</code>」。如，邏輯地址<code>1460H:100H</code>表示物理地址<code>14700H</code>。</p><h3>段超越前綴指令</h3><pre><code class="hljs Assembly">cs:                         ; 代碼段超越，使用代碼段數據ss:                         ; 堆棧段超越，使用堆棧段數據ds:                         ; 數據段超越，使用數據段數據es:                         ; 附加段超越，使用附加段數據</code></pre><h1>尋址方式</h1><h2>8086的機器代碼格式</h2><table><thead><tr><th style="text-align:center">1/2字節</th><th style="text-align:center">0/1字節</th><th style="text-align:center">0/1/2字節</th><th style="text-align:center">0/1/2字節</th></tr></thead><tbody><tr><td style="text-align:center">操作碼</td><td style="text-align:center">mod reg r/m</td><td style="text-align:center">位移量</td><td style="text-align:center">立即數</td></tr><tr><td style="text-align:center">指令</td><td style="text-align:center">尋址方式</td><td style="text-align:center">某些尋址方式需要的偏移量</td><td style="text-align:center">立即尋址方式需要的數值本身</td></tr></tbody></table><pre><code class="hljs Assembly">mov     dest, src</code></pre><h2>立即數尋址方式</h2><pre><code class="hljs Assembly">mov     al, 05hmov     ax, 0102h</code></pre><h2>寄存器尋址方式</h2><pre><code class="hljs Assembly">mov     ax, 1234hmov     bx, ax</code></pre><h2>存儲器尋址方式</h2><h3>直接尋址方式</h3><pre><code class="hljs Assembly">mov     ax, [2000h]</code></pre><p>默認情況下，有效地址要與<code>DS</code>一起構成操作數所在物理單元的物理地址。<br>數據也可存放於附加段、代碼段、堆棧段中，此時指令應指明段超越前綴。</p><pre><code class="hljs Assembly">mov     ax, es:[2000h]</code></pre><h3>寄存器間接尋址方式</h3><p>有效地址存放在寄存器中（<code>BX</code>/<code>SI</code>/<code>DI</code>），默認段地址在<code>DS</code>段寄存器中。</p><pre><code class="hljs Assembly">mov     ax, [si]</code></pre><h3>寄存器相對尋址方式</h3><p>操作數有效地址<code>EA</code>=<code>BX</code>/<code>BP</code>/<code>SI</code>/<code>DI</code>+8/16位位移量。<br>基址寄存器使用<code>BX</code>/<code>SI</code>/<code>DI</code>，默認段爲<code>DS</code>；基址寄存器使用<code>BP</code>，默認段爲<code>SS</code>。</p><pre><code class="hljs Assembly">mov     ax, [di+06h]mov     ax, [bp+06h]mov     ax, [bp]</code></pre><h3>基址變址尋址方式</h3><p>操作數有效地址<code>EA</code>=<code>BX</code>/<code>BP</code>+<code>SI</code>/<code>DI</code>。<br>基址寄存器使用<code>BX</code>，默認段爲<code>DS</code>；基址寄存器使用<code>BP</code>，默認段爲<code>SS</code>。</p><pre><code class="hljs Assembly">mov     ax, [bx+si]mov     ax, [bp]</code></pre><h3>相對基址變址尋址方式</h3><p>操作數有效地址<code>EA</code>=<code>BX</code>/<code>BP</code>+<code>SI</code>/<code>DI</code>+8/16位位移量。<br>基址寄存器使用<code>BX</code>/<code>SI</code>/<code>DI</code>，默認段爲<code>DS</code>；基址寄存器使用<code>BP</code>，默認段爲<code>SS</code>。</p><pre><code class="hljs Assembly">mov     ax, [bx+si+06h]</code></pre><p><strong>注意</strong>：<br>位移量可用符號表示，如<code>mov      ax, [si+count]</code>。<br>統一尋址方式可寫成不同方式。</p><h2>數據尋址的結合</h2><pre><code class="hljs Assembly">指令助記符  reg, imm&#x2F;reg&#x2F;mem指令助記符  mem, imm&#x2F;reg</code></pre><h1>常用<code>debug</code>指令</h1><h2><code>a</code>（彙編）</h2><pre><code class="hljs Assembly">-a                      ; 不指定地址  -a [addr]               ; 指定地址</code></pre><h2><code>u</code>（反彙編）</h2><pre><code class="hljs Assembly">-u [start_addr]-u [start_addr end_addr]</code></pre><h2><code>t</code>（跟蹤）（單步執行）</h2><pre><code class="hljs Assembly">-t                      ; 執行一條指令-t 10                   ; 執行下面10H(16)條指令-t&#x3D;3 2                  ; 從指定IP&#x3D;0003開始執行下面2條指令</code></pre><h2><code>g</code>（斷點執行）</h2><pre><code class="hljs Assembly">-g                      ; 從程序當前位置執行至斷點處，若無斷點則直到程序結束-g 200                  ; 從程序當前位置執行至斷點處（200H）結束-g&#x3D;200 260              ; 從指定地址（200H）執行至斷點處（260H）結束</code></pre><h2><code>d</code>（數據顯示）</h2><pre><code class="hljs Assembly">-d                      ; 顯示從上一次結果處開始80H個字節的內容    -d 200                  ; 顯示從DS:200H處開始80H個字節的內容...</code></pre><h2><code>e</code>（修改數據）</h2><pre><code class="hljs Assembly">-e                      ; 修改數據-e 200 (xx..)           ; 修改從DS:200H處的內容爲兩位十六進制數xx（可修改多個）...</code></pre><h2><code>r</code>（寄存器）</h2><pre><code class="hljs Assembly">-r                      ; 顯示所有寄存器內容  ...</code></pre><h2><code>h</code>（十六進制運算）</h2><pre><code class="hljs Assembly">-h 20 19                ; 輸出兩個數的加減運算結果0039 0007</code></pre><h2><code>q</code>（退出）</h2><pre><code class="hljs Assembly">-q</code></pre>]]></content>
    
    
    <categories>
      
      <category>Assembly</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Assembly</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>己亥臨元旦書懷步賴和韻</title>
    <link href="/poem/Near2020/"/>
    <url>/poem/Near2020/</url>
    
    <content type="html"><![CDATA[<blockquote><p><em>半暝無眠，賦詩一首。期末其勉之。</em></p></blockquote><a id="more"></a><p><strong>自冉</strong><sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="借大員小英「自自冉冉歡喜新春」之不學自嘲。">[1]</span></a></sup><s>窮</s><strong>經</strong><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="避重出。">[2]</span></a></sup>年繼晷身<br>欣憂並論過新春<br>時情豈有超然輩<br>現世安尋遁跡人<br>巧算精求<strong>資構</strong><sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="數據（資料）結構（data structure）。">[3]</span></a></sup>切<br>致思窮究<strong>統推</strong><sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="統計推斷（statistical inference）。">[4]</span></a></sup>真<br><strong>三時奈悒</strong><sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="雙關。既有時或忍憂之義，「三時sam-sî」當以漳語解之；又兼sometimes naive之音意譯，「奈悒nāi-ip」宜以漳音對焉。">[5]</span></a></sup>終開悟<br>幸遇平凡摯友親</p><section class="footnotes"><h3>註</h3><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>借大員小英「自自冉冉歡喜新春」之不學自嘲。<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>避重出。<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>數據（資料）結構（data structure）。<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span>統計推斷（statistical inference）。<a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:5" class="footnote-text"><span>雙關。既有時或忍憂之義，「<ruby>三時<rt>sam-sî</rt></ruby>」當以漳語解之；又兼sometimes naive之音意譯，「<ruby>奈悒<rt>nāi-ip</rt></ruby>」宜以漳音對焉。<a href="#fnref:5" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>詩詞</category>
      
    </categories>
    
    
    <tags>
      
      <tag>詩</tag>
      
      <tag>七言律詩</tag>
      
      <tag>2020</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>OpenCV編譯學習隨錄</title>
    <link href="/opencv/OpenCVCompilationNotes/"/>
    <url>/opencv/OpenCVCompilationNotes/</url>
    
    <content type="html"><![CDATA[<p>前幾日學習OpenCV，愛用遘SIFT/SURF。但是OpenCV3以後兮官方版本默認無<code>nonfree.hpp</code>。</p><a id="more"></a><p>不過，佇<a href="https://github.com/opencv">OpenCV官方GitHub倉庫</a>兮<code>opencv_contrib</code>內底，猶有<code>opencv2/xfeatures2d/nonfree.hpp</code>。只是需要配合<code>opencv</code>自行<ruby>編譯<rt>phian-e̍k</rt></ruby>。於是參考了網頂兮博文：<a href="https://blog.csdn.net/Gordon_Wei/article/details/85775328">【OpenCV】opencv4.0.1+opencv_contrib4.0.1+VS2015的编译</a>，如法炮製，用CMake編譯OpenCV4.1.2(+opencv_contrib)。期間狀況頻頻，一言難盡。</p><p>編譯成功了後，刪除之前下載兮OpenCV4.0.1版本，換做家己編譯兮。<br>用Visual Studio 2019新建解決方案，<ruby>調試<rt>tiâu-tshì</rt></ruby>時竟然報錯：<code>无法打开文件“opencv_world401d.lib”</code>。<br>檢查<ruby>項目屬性<rt>hāng-bo̍k sio̍k-sèng</rt></ruby> - <ruby>鏈接器<rt>liān-tsiap-khì</rt></ruby>-<ruby>輸入<rt>si-ji̍p</rt></ruby>，發現已經刪除兮<code>opencv_world401d.lib</code>竟然猶囥佇<ruby>附加依賴項<rt>hū-kee i-nāi-hāng</rt></ruby>繼承兮項目默認設置：<code>%(AdditionalDependencies)</code>內底，而且無法直接通過<ruby>窗口<rt>thang-kháu</rt></ruby> <ruby>編輯<rt>phian-tship</rt></ruby> <ruby>移除<rt>î-tî</rt></ruby>。</p><p>佇中文網站<ruby>搜尋<rt>sou-sîm</rt></ruby>如何修改<code>%(AdditionalDependencies)</code>未果，好佳哉佇<a href="https://stackoverflow.com/questions/6714269/vs-2010-unable-to-remove-inherited-additional-dependencies">Stack Overflow</a> 揣着辦法：<br>只要修改<code>C:\Users\%USERPROFILE%\AppData\Local\Microsoft\MSBuild\v4.0</code>內底兮項目屬性文件<code>Microsoft.Cpp.Win32.user.props</code>（按：OpenCV64位版本愛對應修改<code>Microsoft.Cpp.x64.user.props</code>），着解使刪除鏈接器繼承兮附加依賴項。</p><p>最後，呵咾Stack Overflow社區，成熟兼專業。</p>]]></content>
    
    
    <categories>
      
      <category>OpenCV</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>OpenCV</tag>
      
      <tag>CMake</tag>
      
      <tag>Visual Studio</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>臺灣閩南語Unicode擴展漢字</title>
    <link href="/hokkien/TaiwaneseHokkienCJKExt/"/>
    <url>/hokkien/TaiwaneseHokkienCJKExt/</url>
    
    <content type="html"><![CDATA[<p>根據《臺灣閩南語漢字輸入法》所附CJK擴展區及私用區漢字整理。<br>凡<strong>異寫</strong>字加粗者，乃對岸頒佈之「推薦用字」（即所謂「正字」）。<em>斜體</em>字乃未出現於《臺灣閩南語常用詞辭典》，惟賴他處資料補正，仍有缺漏。</p><a id="more"></a><h1>CJK擴展A區</h1><table><thead><tr><th style="text-align:center">漢字</th><th style="text-align:center">Unicode</th><th style="text-align:center">臺羅</th><th style="text-align:center">異寫</th><th style="text-align:center">釋義</th><th style="text-align:center">備註</th></tr></thead><tbody><tr><td style="text-align:center">㔂</td><td style="text-align:center">U+3502</td><td style="text-align:center">lan5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;削掉外皮或突出的枝椏部分。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㤉</td><td style="text-align:center">U+3909</td><td style="text-align:center">ge5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;討厭、嫌惡。</td><td style="text-align:center">替字，不合規律。雲霄語gei5</td></tr><tr><td style="text-align:center">㧌</td><td style="text-align:center">U+39CC</td><td style="text-align:center">mau1</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;揍、打。以拳頭或棍棒用力地打下去。&lt;名&gt;凹陷。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㧎</td><td style="text-align:center">U+39CE</td><td style="text-align:center">khe5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;卡住。&lt;形&gt;不通順的、不順暢的、不和睦的。</td><td style="text-align:center">漳腔khee5</td></tr><tr><td style="text-align:center">㧒</td><td style="text-align:center">U+39D2</td><td style="text-align:center">hiat4</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;丟棄、亂扔。</td><td style="text-align:center">雲霄語hat4</td></tr><tr><td style="text-align:center">㧣</td><td style="text-align:center">U+39E3</td><td style="text-align:center">tu1</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.推。2.硬塞、推塞。3.推出。指推某人做某事。4.抵抗、抵擋、將就。5.出言反駁、爭辯。6.撅。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㧳</td><td style="text-align:center">U+39F3</td><td style="text-align:center">pue2</td><td style="text-align:center"><strong>掰</strong></td><td style="text-align:center">&lt;動&gt;1.撥、拂。2.擋開。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㧻</td><td style="text-align:center">U+39FB</td><td style="text-align:center">tok4</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;敲擊。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㨂</td><td style="text-align:center">U+3A02</td><td style="text-align:center">tang3</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;用指甲掐入皮膚，使其留下指痕，產生劇痛。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㨑</td><td style="text-align:center">U+3A11</td><td style="text-align:center">tsang1</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.逮到、捉到。通常用在抓到別人的把柄。2.將東西捆起來、束起來。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㨨</td><td style="text-align:center">U+3A28</td><td style="text-align:center">liu5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;解開線紬或布條。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㨻</td><td style="text-align:center">U+3A3B</td><td style="text-align:center">tsann7</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;撈。將湯上面的浮渣舀掉。也指類似的動作。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㪗</td><td style="text-align:center">U+3A97</td><td style="text-align:center">thau2</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.解開。2.通暢。3.聲名遠播。4.走運。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㴘</td><td style="text-align:center">U+3D18</td><td style="text-align:center">bauh8</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;沖泡。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㴙</td><td style="text-align:center">U+3D19</td><td style="text-align:center">tshap8</td><td style="text-align:center"></td><td style="text-align:center">擬聲詞，水滴聲。如：「㴙㴙滴」tsha̍p-tsha̍p-tih &lt;動&gt;滴瀝瀝、滴個不停、滴滴答答。</td><td style="text-align:center">雲霄語tshop8</td></tr><tr><td style="text-align:center">㷮</td><td style="text-align:center">U+3DEE</td><td style="text-align:center">tsau1</td><td style="text-align:center"></td><td style="text-align:center">「柴㷮」tshâ-tsau &lt;名&gt;未燒盡的木炭、木頭。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㽎</td><td style="text-align:center">U+3F4E</td><td style="text-align:center">sim3</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;上下晃動、上下彈動。指柔軟有彈性。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㾀</td><td style="text-align:center">U+3F80</td><td style="text-align:center">khiap4</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;變壞、搞壞。&lt;形&gt;醜、不好看。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">㾪</td><td style="text-align:center">U+3FAA</td><td style="text-align:center">san2</td><td style="text-align:center"><strong>瘦</strong></td><td style="text-align:center">&lt;形&gt;1.沒油水、沒脂肪的樣子。2.貧瘠。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">䀐</td><td style="text-align:center">U+4010</td><td style="text-align:center">siam1</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;瞄、偷看。迅速地看一下子。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">䆀</td><td style="text-align:center">U+4180</td><td style="text-align:center">bai2</td><td style="text-align:center"></td><td style="text-align:center">&lt;形&gt;1.醜陋。2.惡劣、糟糕。3.差勁、不好。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">䈄</td><td style="text-align:center">U+4204</td><td style="text-align:center">ham1</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;竹節。「竹䈄」tik-ham &lt;名&gt;兩竹目間的段落。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">䉔</td><td style="text-align:center">U+4254</td><td style="text-align:center">tshuann1</td><td style="text-align:center"><strong>扦</strong></td><td style="text-align:center">&lt;動&gt;刺。通常用在被細尖物刺入皮膚。&lt;名&gt;竹子或木頭的尖細小刺，也指形狀相似的東西。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">䖙</td><td style="text-align:center">U+4599</td><td style="text-align:center">the1</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;身體半躺臥，小憩。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">䖳</td><td style="text-align:center">U+45B3</td><td style="text-align:center">the7</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;水母。刺絲胞動物（腔腸動物）。身體呈現透明，上有如傘的頭蓋，其下有多隻觸角，品種繁多，常有劇毒，亦有可食者。可食者曬乾後製成「海蜇皮」，為口感爽脆富彈性的涼拌菜。</td><td style="text-align:center">漳腔thee7</td></tr><tr><td style="text-align:center">䘥</td><td style="text-align:center">U+4625</td><td style="text-align:center">kah4</td><td style="text-align:center"></td><td style="text-align:center">「䘥仔」kah-á &lt;名&gt;背心。無袖無領的上衣。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">䘼</td><td style="text-align:center">U+463C</td><td style="text-align:center">ng2</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;袖子。</td><td style="text-align:center">漳腔uinn2</td></tr><tr><td style="text-align:center">䠡</td><td style="text-align:center">U+4821</td><td style="text-align:center">tshe5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.以手撐地，臀部靠著地面，拖行前進。指瘸腿的人或嬰幼兒前進的一種方式。2.雙腳或過長的衣物在地上摩擦。</td><td style="text-align:center">雲霄語tshei5</td></tr><tr><td style="text-align:center">䢢</td><td style="text-align:center">U+48A2</td><td style="text-align:center">tshiang7</td><td style="text-align:center"></td><td style="text-align:center">「拄䢢」tú-tshiāng &lt;副&gt;碰巧，剛好。</td><td style="text-align:center">雲霄語tshiong7</td></tr><tr><td style="text-align:center"><em>䩉</em></td><td style="text-align:center">U+4A49</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><em>䫀</em></td><td style="text-align:center">U+4AC0</td><td style="text-align:center">kun2</td><td style="text-align:center"><strong>頸</strong></td><td style="text-align:center">&lt;名&gt;脖子。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">䫌</td><td style="text-align:center">U+4ACC</td><td style="text-align:center">phue2</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;頰或臀部整片肌肉的部分。</td><td style="text-align:center">雲霄語phei2</td></tr><tr><td style="text-align:center">䲅</td><td style="text-align:center">U+4C85</td><td style="text-align:center">kui1</td><td style="text-align:center"></td><td style="text-align:center">「刺䲅」tshì-kui &lt;名&gt;六斑刺河豚。魚類。全身除吻端和尾鰭外，密佈長棘，頭部的棘較身體上之棘為長，無毒，味道鮮美，是饕客喜歡品嚐的一種海鮮。</td><td style="text-align:center"></td></tr></tbody></table><h1>CJK擴展B區</h1><table><thead><tr><th style="text-align:center">漢字</th><th style="text-align:center">IDS</th><th style="text-align:center">Unicode</th><th style="text-align:center">臺羅</th><th style="text-align:center">異寫</th><th style="text-align:center">釋義</th><th style="text-align:center">備註</th></tr></thead><tbody><tr><td style="text-align:center">𠕆</td><td style="text-align:center">⿵冇一</td><td style="text-align:center">U+20546</td><td style="text-align:center">ting7</td><td style="text-align:center"></td><td style="text-align:center">&lt;形&gt;硬的、堅實的。</td><td style="text-align:center">雲霄語ten7(teng7)</td></tr><tr><td style="text-align:center">𠕇</td><td style="text-align:center">⿵冇丶</td><td style="text-align:center">U+20547</td><td style="text-align:center">ting7</td><td style="text-align:center"></td><td style="text-align:center">（同上）</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𠞩</td><td style="text-align:center">⿰率刂</td><td style="text-align:center">U+207A9</td><td style="text-align:center">tsui5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;刀子在圓柱型的東西上，以刀口與平面垂直的方式邊切邊繞圈，漸漸將東西切斷。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𠞭</td><td style="text-align:center">⿰婁刂</td><td style="text-align:center">U+207AD</td><td style="text-align:center">lio5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.用刀子割取、刮取薄薄的表層或切成片狀。2.用刀子在章魚、腰子等食物上面淺淺地畫花紋。3.切割、割除。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𠢕</td><td style="text-align:center">⿱敖力</td><td style="text-align:center">U+20895</td><td style="text-align:center">gau5</td><td style="text-align:center"></td><td style="text-align:center">&lt;形&gt;能幹、有本事。&lt;副&gt;1.擅長於做某事。2.易發生某事。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𠯗</td><td style="text-align:center">⿰口帀</td><td style="text-align:center">U+20BD7</td><td style="text-align:center">tsip8</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;小口地吸吮飲品。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𠲿</td><td style="text-align:center">⿰口束</td><td style="text-align:center">U+20CBF</td><td style="text-align:center">suh4</td><td style="text-align:center"></td><td style="text-align:center">（=欶）&lt;動&gt;吸。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𡢃</td><td style="text-align:center">⿰女間</td><td style="text-align:center">U+21883</td><td style="text-align:center">kan2</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;婢女。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><em>𡨞</em></td><td style="text-align:center">⿳⿱宀彐冖又</td><td style="text-align:center">U+21A1E</td><td style="text-align:center">tshim2</td><td style="text-align:center"><strong>寢</strong></td><td style="text-align:center">&lt;副&gt;纔。剛才，不久之前。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𡳞</td><td style="text-align:center">⿸尸粦</td><td style="text-align:center">U+21CDE</td><td style="text-align:center">lan7</td><td style="text-align:center">膦卵</td><td style="text-align:center">&lt;名&gt;男性或雄性動物的生殖器。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𢓜</td><td style="text-align:center">⿰彳各</td><td style="text-align:center">U+224DC</td><td style="text-align:center">kah4</td><td style="text-align:center"><strong>甲</strong></td><td style="text-align:center">&lt;動&gt;到。表示抵達某個地點、時間或狀態。&lt;副&gt;到……的地步。表示所達到的結果或程度。&lt;連&gt;既然，表示事情的前提。&lt;疑&gt;哪會、怎麼會、怎麼可能，用於反詰。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𢪱</td><td style="text-align:center">⿰扌勿</td><td style="text-align:center">U+22AB1</td><td style="text-align:center">but8</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;用力敲擊下去。指用棍、棒等由上往下，或由內往外用力打下去。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𢯾</td><td style="text-align:center">⿰扌冒</td><td style="text-align:center">U+22BFE</td><td style="text-align:center">mooh4</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;緊抱、緊貼。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𢲸</td><td style="text-align:center">⿰扌鹵</td><td style="text-align:center">U+22CB8</td><td style="text-align:center">loo7</td><td style="text-align:center"></td><td style="text-align:center">&lt;形&gt;因為不牢固而動搖。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𢼌</td><td style="text-align:center">⿰包攴</td><td style="text-align:center">U+22F0C</td><td style="text-align:center">pa1</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;用手掌拍打頭部、臉部。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𣁳</td><td style="text-align:center">⿰舌斗</td><td style="text-align:center">U+23073</td><td style="text-align:center">khat4</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;杓子、水瓢。&lt;動&gt;舀。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𣍐</td><td style="text-align:center">⿰勿會</td><td style="text-align:center">U+23350</td><td style="text-align:center">be7/bue7</td><td style="text-align:center"><strong>袂</strong></td><td style="text-align:center">&lt;副&gt;不。否定詞。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𣛮</td><td style="text-align:center">⿰木盛</td><td style="text-align:center">U+236EE</td><td style="text-align:center">siann7</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;扛臺。容器名。結婚或祝壽時裝運禮物的雙人抬的紅色長方形大木箱，通常為木製。&lt;量&gt;擔、臺、籃。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𣮈</td><td style="text-align:center">⿱屈毛</td><td style="text-align:center">U+23B88</td><td style="text-align:center">khut8</td><td style="text-align:center"></td><td style="text-align:center">「孤𣮈」koo-khu̍t&lt;名&gt;無父無母無兄弟姊妹、親戚的光棍。&lt;形&gt;孤僻。不喜歡交際。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𣻸</td><td style="text-align:center">⿰氵常</td><td style="text-align:center">U+23EF8</td><td style="text-align:center">siunn5</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;黏液。&lt;形&gt;黏滑的。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤆬</td><td style="text-align:center">⿱毛灬</td><td style="text-align:center">U+241AC</td><td style="text-align:center">tshua7</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.帶領、引導。2.照顧、養育。3.引誘、誘拐。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤉙</td><td style="text-align:center">⿰火君</td><td style="text-align:center">U+24259</td><td style="text-align:center">kun5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;將食物放在水裡長時間熬煮。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤏸</td><td style="text-align:center">⿰火著</td><td style="text-align:center">U+243F8</td><td style="text-align:center">toh8</td><td style="text-align:center"><strong>著</strong></td><td style="text-align:center">&lt;動&gt;1.燃、燒。2.點燈。把燈點亮。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤞚</td><td style="text-align:center">⿰犭肖</td><td style="text-align:center">U+2479A</td><td style="text-align:center">siau2</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.瘋狂、神經錯亂。2.動物發情。&lt;形&gt;形容精神失常、發狂的樣子。&lt;動&gt;沉迷。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤲍</td><td style="text-align:center">⿰甲夾</td><td style="text-align:center">U+24C8D</td><td style="text-align:center">kheh4/khueh4</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;擠。&lt;形&gt;擁擠。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤶃</td><td style="text-align:center">⿸疒兆</td><td style="text-align:center">U+24D83</td><td style="text-align:center">thiau7</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;青春痘、面皰。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤺅</td><td style="text-align:center">⿸疒⿰祟又</td><td style="text-align:center">U+24E85</td><td style="text-align:center">tshe3</td><td style="text-align:center"></td><td style="text-align:center">「魚鱗𤺅仔」hî/hû-lân-tshè-á &lt;名&gt;病名。一種皮膚病。患者皮膚因病毒感染而產生病變，長出一顆顆贅疣，狀如魚鱗。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤺪</td><td style="text-align:center">⿸疒善</td><td style="text-align:center">U+24EAA</td><td style="text-align:center">sian7</td><td style="text-align:center"></td><td style="text-align:center">&lt;形&gt;1.身體上疲倦、疲憊的樣子。2.心理上覺得厭倦、厭煩。指經常或過多的接觸而產生。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𤿎</td><td style="text-align:center">⿰比皮</td><td style="text-align:center">U+24FCE</td><td style="text-align:center">pit4</td><td style="text-align:center"><strong>必</strong></td><td style="text-align:center">&lt;動&gt;1.皮膚因為缺乏滋潤而皸裂。2.東西產生裂痕。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><em>𥌚</em></td><td style="text-align:center">⿰目賣</td><td style="text-align:center">U+2531A</td><td style="text-align:center">mai7</td><td style="text-align:center"><strong>覓</strong></td><td style="text-align:center">動詞後綴。有表示試探的意思。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𥍉</td><td style="text-align:center">⿰目聶</td><td style="text-align:center">U+25349</td><td style="text-align:center">liap4|nih4</td><td style="text-align:center">睰</td><td style="text-align:center">&lt;動&gt;眨。眼睛一開一合。|&lt;動&gt;眨。眼睛一開一合。後用來引申時間很短。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𥐵</td><td style="text-align:center">⿰石匹</td><td style="text-align:center">U+25435</td><td style="text-align:center">phiat4</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;碟子、盤子。又稱「𥐵仔」。&lt;量&gt;盤、碟。計算盤形物數量的單位。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𥑮</td><td style="text-align:center">⿰石古</td><td style="text-align:center">U+2546E</td><td style="text-align:center">koo2</td><td style="text-align:center"></td><td style="text-align:center">「硓𥑮石」lóo-kóo-tsio̍h &lt;名&gt;一種珊瑚礁化石，被當作石灰岩建材使用，外貌多孔，澎湖地區遺留許多硓𥑮石牆，成為深具地方特色的景觀。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𥰔</td><td style="text-align:center">⿱竹品</td><td style="text-align:center">U+25C14</td><td style="text-align:center">phin2</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;橫笛。樂器名。上面有孔洞。現今的笛子開八孔，最左邊的是吹孔，其次是膜孔，之下有六個指孔，橫吹按孔以發聲。所吹奏的音調範圍極廣，可伴奏亦可獨奏。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𥱊</td><td style="text-align:center">⿱竹席</td><td style="text-align:center">U+25C4A</td><td style="text-align:center">tshioh8</td><td style="text-align:center"><strong>蓆</strong></td><td style="text-align:center">&lt;名&gt;以草莖或竹子編成，用來坐臥的墊子。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𥴊</td><td style="text-align:center">⿱竹敢</td><td style="text-align:center">U+25D0A</td><td style="text-align:center">kam2</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;圓型盛物的淺竹筐。多說成「𥴊仔」（kám-á）。&lt;量&gt;簍。計算竹簍、竹筐的單位。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𦉎</td><td style="text-align:center">⿰缶崔</td><td style="text-align:center">U+2624E</td><td style="text-align:center">sui1</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;龜頭。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𦊓</td><td style="text-align:center">⿱罒令</td><td style="text-align:center">U+26293</td><td style="text-align:center">ling5</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;漁網的一種，為固定式的長網。&lt;動&gt;以長網捕魚。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𦜆</td><td style="text-align:center">⿰月函</td><td style="text-align:center">U+26706</td><td style="text-align:center">ham1</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;顎。口腔內部上下壁部分。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𦟪</td><td style="text-align:center">⿰月連</td><td style="text-align:center">U+267EA</td><td style="text-align:center">lian5</td><td style="text-align:center"></td><td style="text-align:center">「肝𦟪」kuann-liân &lt;名&gt;肝連、豬肝連肌。位於豬隻第十二根和第十四根肋骨之間，靠近背脊柱處的一塊柔軟富紋理的橢圓形肌肉。在臺灣小吃中，肝𦟪肉是很受歡迎的小菜。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><em>𦠖</em></td><td style="text-align:center">⿰月⿱⿳十中冖包</td><td style="text-align:center">U+26816</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𧉟</td><td style="text-align:center">⿰虫台</td><td style="text-align:center">U+2725F</td><td style="text-align:center">tai5</td><td style="text-align:center"></td><td style="text-align:center">一種會附著於雞、鴨、鵝等家禽羽毛上的小蟲，米或糠放久了也會長出這種小蟲。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𧌄</td><td style="text-align:center">⿰虫奄</td><td style="text-align:center">U+27304</td><td style="text-align:center">am1</td><td style="text-align:center"></td><td style="text-align:center">「𧌄蜅蠐」am-poo-tsê &lt;名&gt;蟬。動物名。俗稱「知了」。頭短體長，有兩隻突出的複眼，翅膀兩對，薄且透明。雄蟬腹部有發聲器，叫聲尖銳，夏天會連續叫個不停。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𧮙</td><td style="text-align:center">⿱⿰⿶丵臼殳言</td><td style="text-align:center">U+27B99</td><td style="text-align:center">tshoh4</td><td style="text-align:center"></td><td style="text-align:center">用粗鄙的話罵人。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𧿬</td><td style="text-align:center">⿰足屯</td><td style="text-align:center">U+27FEC</td><td style="text-align:center">thun2</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;亂踩、踐踏。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𧿳</td><td style="text-align:center">⿰足弗</td><td style="text-align:center">U+27FF3</td><td style="text-align:center">phut8</td><td style="text-align:center"></td><td style="text-align:center">「𧿳𧿳跳」phu̍t-phu̍t-thiàu &lt;動&gt;1.生氣或開心的時候不停的直跳腳。2.活蹦亂跳、充滿生氣。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𨂾</td><td style="text-align:center">⿰足南</td><td style="text-align:center">U+280BE</td><td style="text-align:center">lam2</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;用腳使勁踹、用力踢。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𨂿</td><td style="text-align:center">⿰足歪</td><td style="text-align:center">U+280BF</td><td style="text-align:center">uainn2</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;足踝扭到。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𨑨</td><td style="text-align:center">⿺辶日</td><td style="text-align:center">U+28468</td><td style="text-align:center">tshit4</td><td style="text-align:center"></td><td style="text-align:center">「𨑨迌」tshit-thô &lt;動&gt;1.遊玩。2.玩弄。&lt;形&gt;好玩的。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𩑾</td><td style="text-align:center">⿰氐頁</td><td style="text-align:center">U+2947E</td><td style="text-align:center">tshih4</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;頭向下低垂。&lt;形&gt;形容頭低垂下來的樣子。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𩚨</td><td style="text-align:center">⿰飠丘</td><td style="text-align:center">U+296A8</td><td style="text-align:center">khiu7</td><td style="text-align:center"></td><td style="text-align:center">&lt;形&gt;形容食物柔軟而有彈性、韌性。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𩛩</td><td style="text-align:center">⿰飠夾</td><td style="text-align:center">U+296E9</td><td style="text-align:center">kauh4</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;夾進、捲入。&lt;名&gt;成捲的食物、包在一起的食物。&lt;量&gt;捲。計算成捲物品的單位。&lt;動&gt;1.把肥料犁入土中。2.嬰兒皮膚受刺激而紅腫。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𩟗</td><td style="text-align:center">⿱漸食</td><td style="text-align:center">U+297D7</td><td style="text-align:center">tsiann2</td><td style="text-align:center"><strong>汫</strong></td><td style="text-align:center">&lt;形&gt;味道淡、不鹹。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𩵱</td><td style="text-align:center">⿰魚午</td><td style="text-align:center">U+29D71</td><td style="text-align:center">ngoo2</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;馬鱍魚。魚類。喜歡棲息在沙泥底質地形中，在臺灣沿岸、河口、紅樹林等半淡鹹水域中可以看到蹤跡。每年秋末到來年初春是主要的漁期，是高經濟價值魚種。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𩸙</td><td style="text-align:center">⿰魚隶</td><td style="text-align:center">U+29E19</td><td style="text-align:center">tai7</td><td style="text-align:center"></td><td style="text-align:center">&lt;名&gt;鯉魚。魚類。嘴的外觀呈鈍圓形，有長短觸鬚各一對。脊鰭長、尾鰭分叉。以水草及魚蝦貝類為食物。現在大多以人工飼養為主，主要做為食用魚。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𩸶</td><td style="text-align:center">⿰魚岩</td><td style="text-align:center">U+29E36</td><td style="text-align:center">gam7</td><td style="text-align:center"></td><td style="text-align:center">「狗𩸶仔」káu-gām-á &lt;名&gt;蝦虎魚。魚類。屬鱸魚的一種，為淡水魚，活動於淺水岩石間，因體輕，魚腹有吸盤可吸附在石頭上，以避免被激流沖走。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𪁎</td><td style="text-align:center">⿰肖鳥</td><td style="text-align:center">U+2A04E</td><td style="text-align:center">tshio1</td><td style="text-align:center"></td><td style="text-align:center">&lt;形&gt;形容雄性動物發情的樣子。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𪐞</td><td style="text-align:center">⿰黑乇</td><td style="text-align:center">U+2A41E</td><td style="text-align:center">too3</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.染、傳染。2.暈開。液體滴在紙或布上而散開、滲透。3.描。以半透明紙覆蓋原圖上，照著線條畫。</td><td style="text-align:center"></td></tr></tbody></table><h1>CJK擴展C區及以後（含未定義）</h1><table><thead><tr><th style="text-align:center">漢字</th><th style="text-align:center">IDS</th><th style="text-align:center">Unicode</th><th style="text-align:center">臺羅</th><th style="text-align:center">異寫</th><th style="text-align:center">釋義</th><th style="text-align:center">備註</th></tr></thead><tbody><tr><td style="text-align:center"></td><td style="text-align:center"><em>⿰金森</em></td><td style="text-align:center">-</td><td style="text-align:center">som1?</td><td style="text-align:center"><strong>參</strong></td><td style="text-align:center">「貴參參」kuì-som-som &lt;形&gt;非常昂貴的。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><em>𫝞</em></td><td style="text-align:center">⿰口霧</td><td style="text-align:center">U+2B75E</td><td style="text-align:center">bu7</td><td style="text-align:center"><strong>霧</strong></td><td style="text-align:center">&lt;動&gt;1.水往上冒出來，常用在煮湯或燒開水沸騰時，鍋中湯水溢出鍋外。2.口中先含液體再將其噴出。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𫝛</td><td style="text-align:center">⿱相同</td><td style="text-align:center">U+2B75B</td><td style="text-align:center">siang7</td><td style="text-align:center">侗</td><td style="text-align:center">&lt;形&gt;形容相同、相似或一樣的樣子。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𫟊</td><td style="text-align:center">⿰月席</td><td style="text-align:center">U+2B7CA</td><td style="text-align:center">sioh8</td><td style="text-align:center"><strong>液</strong></td><td style="text-align:center">&lt;名&gt;皮膚似汗的分泌物。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𪜶</td><td style="text-align:center">⿰亻因</td><td style="text-align:center">U+2A736</td><td style="text-align:center">in1</td><td style="text-align:center">怹</td><td style="text-align:center">&lt;代&gt;1.他們。第三人稱複數。2.第三人稱的所有格。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center">⿰勿愛</td><td style="text-align:center">-</td><td style="text-align:center">mai3</td><td style="text-align:center"><strong>莫</strong></td><td style="text-align:center">&lt;動&gt;不要。表示禁止或勸阻之意。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𫞼</td><td style="text-align:center">⿰立在</td><td style="text-align:center">U+2B7BC</td><td style="text-align:center">tshai7</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.豎立。2.呆呆站著、僵立。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𬦰</td><td style="text-align:center">⿰足百</td><td style="text-align:center">U+2C9B0</td><td style="text-align:center">peh4</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;爬。攀登。</td><td style="text-align:center">漳腔peeh4</td></tr><tr><td style="text-align:center"></td><td style="text-align:center">⿸疒哥</td><td style="text-align:center">-</td><td style="text-align:center">ko1</td><td style="text-align:center">哥</td><td style="text-align:center">「癩~」thái-ko&lt;名&gt;痲瘋病。病名。&lt;形&gt;骯髒。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𫝙</td><td style="text-align:center">⿱向上</td><td style="text-align:center">U+2B759</td><td style="text-align:center">tshio3</td><td style="text-align:center"><strong>笑</strong></td><td style="text-align:center">「笑桮」tshiò-pue &lt;名&gt;陽筊。祭祀或占卜擲杯筊，兩個都是平面向上的情況。「笑」是借音字，為「面朝上」之意。民間則有「說明不清、神佛主意未定，所以微笑以對」的詮釋。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𫝏</td><td style="text-align:center">⿰冫彥</td><td style="text-align:center">U+2B74F</td><td style="text-align:center">gan3</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.凍、冰冷。2.使冷。3.淬鍊。4.將祭拜的酒倒幾滴到即將燒完的紙錢中，完成祭拜儀式。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𫝺</td><td style="text-align:center">⿰扌甩</td><td style="text-align:center">U+2B77A</td><td style="text-align:center">hiu3</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.灑。指少量而快速地。2.甩。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𫝻</td><td style="text-align:center">⿰扌回</td><td style="text-align:center">U+2B77B</td><td style="text-align:center">hue5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.輕輕地抹、輕輕地摩擦。2.正反面來回輕磨幾下。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">𫟂</td><td style="text-align:center">⿰糹寒</td><td style="text-align:center">U+2B7C2</td><td style="text-align:center">han5</td><td style="text-align:center"></td><td style="text-align:center">&lt;動&gt;1.輕輕地束縛住。2.虛掩。</td><td style="text-align:center"></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>閩南語</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Unicode</tag>
      
      <tag>CJK</tag>
      
      <tag>漢字</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>語類續篇·莊師談藝術</title>
    <link href="/essay/MrTsngAnalects2Art/"/>
    <url>/essay/MrTsngAnalects2Art/</url>
    
    <content type="html"><![CDATA[<blockquote><p><em>根據 2019/8/19 暝昏座談莊生所言大意整理</em></p></blockquote><a id="more"></a><ul><li><p>「專業是咱安身立命兮基礎。但是呢，汝佇這個專業內面有競爭兮壓力，久而久之有時陣嘛解<ruby>癔<rt>ià</rt></ruby>，甚至按解失去興趣。抑若佇專業之外，有一項業餘兮，做為一種興趣是袂䆀……我當其時若選擇音樂做專業，我本身著面對佮別儂兮競爭，按遐我練手風琴兮時陣，煞著按鐳這方面去考慮。按遐就失去了伊原本兮意義，怎解享受著音樂兮趣味呢？」</p></li><li><p>「寫格律詩較好……汝看現在所謂現代詩，莫講格律，<ruby>含<rt>hām</rt></ruby>押韻都攏無講究，按遐敢<ruby>聽<rt>thèng</rt></ruby>叫做詩啊？當代遮真濟詩人，心內想著啥現寫落來，現表露出來，若講做為散文是猶泛泛，敢聽叫詩？拄按咱畫尪仔，愛落鄉去野外採風，看著啥照實畫落來，做為寫生是解使，但是，寫生敢解使算正式作品？……所以講，寫詩著愛將咱目睭所見、心內所想兮<ruby>交<rt>ka</rt></ruby>提煉出來，並且儘量講究平仄押韻，按遐正解使叫詩。」</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>隨筆</category>
      
    </categories>
    
    
    <tags>
      
      <tag>莊師</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>莊師語類</title>
    <link href="/essay/MrTsngAnalects/"/>
    <url>/essay/MrTsngAnalects/</url>
    
    <content type="html"><![CDATA[<blockquote><p><em>2019/7/10: Create the article, fix some errors, and update the style.</em><br><em>Edited from personal Qzone Shuoshuo on 2019/2/1.</em></p></blockquote><a id="more"></a><h1>序</h1><blockquote><p>高中前兩年，幸遇莊師，承蒙教誨，受益匪淺。<br>高三溯昔，偶憶莊師言語，嘗略作整理。<br>今重加校勘，編成 <strong>《語類》</strong> 凡九篇。<br>謹錄懿言，不避讜論，僅偶略過激之語，唯求實錄耳。<br>凡普通話以漢語拼音注音，閩南語以羅馬字注音。<br><em>2019/7/10新註：輔以國際音標。</em><br>戊戌臘月廿七 某學生謹識</p></blockquote><h1>治學篇第一</h1><ul><li>你可以看不起我，但不可以看不起數學。</li><li>讀書要由薄變厚，由厚變薄。</li><li>要對得起自己的良心。</li><li>無志之士常立志，有志之士立常志。</li><li>道路是曲折的，前途是光明的。</li><li>在前進中曲折，在曲折中前進。</li><li>我出的這些考卷，都是我知識的結晶。</li><li>如果你現在把我上課的板書都做成一本筆記，到了高三，有什麼知識點忘記了，翻開一看，都歷歷在目。現在有些學校到高三纔把概念印出來給學生，到高三來不及了。</li><li>讀書不能只是爲了高考。我15屆的一個學生很感激我，他上高中時，這些知識我上課都有補充，都有詳細講過，到大學教授都不怎麼講，所以他才聽得很輕鬆。</li><li>平時的排名/成績都不算數，只有最後的那次才算數。</li><li>把練習當作考試，把考試當作練習。</li><li>在一片繁華聲中，靜下心來做學問。</li></ul><h1>教學篇第二</h1><ul><li>解清楚袂？</li><li>三角函數的<ruby>誘<rt>yǒu</rt></ruby>導公式</li><li>sin, cos, cos, sin, αβαβ</li><li>正切的另外兩個半角公式像疊羅漢一樣。</li></ul><blockquote><p>$$tan\frac{α}{2}=\frac{sinα}{1+cosα}=\frac{1-cosα}{sinα}$$</p></blockquote><ul><li>你聽說過小高斯的故事嗎？</li><li><ruby>拉格朗日<rt>la22 ge22 lang51 ri21</rt></ruby>中值定理</li></ul><h1>紀律篇第三</h1><ul><li><ruby>又<rt>iū22</rt></ruby>有儂咧講話。</li><li><ruby>彼誰<rt>hit-tsuêe</rt></ruby>又<ruby>覆<rt>phak</rt></ruby>咧遐睏？</li><li><ruby>按遐<rt>án-hiann</rt></ruby>欲怎解戰鬥着？</li><li>我感覺恁這屆實驗班……</li></ul><h1>同學門生篇第四</h1><ul><li><p>我的同學方/t͡ʃɔu⁵⁵ t͡sɹ̩²¹/：</p><ul><li>他上高中的時候，上課都很認真聽，注意做筆記</li><li>他平時還很喜歡寫詩</li></ul></li><li><p>09屆的羅/ᵐbin³⁵/：</p><ul><li>高考數學144</li><li>他現在還時常和我聯繫</li></ul></li></ul><h1>領導篇第五</h1><ul><li>我感覺我咧恁心目中是排咧<ruby>尾掌指<rt>bué-tsím-tsái</rt></ruby>兮……學堂有啥消息我攏是上慢知兮……</li><li>又有學生家長咧領導面頭前講……</li><li>行外的總要指導行內的。</li><li>我大不了教師工作辭了，開車養活自己。</li><li>領導只有以前教育局那位吳局長我最佩服他。</li></ul><h1>課改篇第六</h1><ul><li>十年課改，算是以失敗告終。</li><li>新課標引入信息技術，這點我最欣賞。</li><li>新課標教材前後順序都打亂了，知識系統支離破碎！</li><li>現在都講究一個「<ruby>核<rt>hè</rt></ruby>心素養」。</li></ul><h1>音樂篇第七</h1><ul><li>現在那些歌曲，動不動就是「我愛你」「你愛我」的。</li><li>數學與音樂是有共通之處的。</li><li>我大學時自學音樂，後來還譜了一首曲子。</li><li>我大學剛畢業到二中教書，就花了八百塊買了手風琴。</li><li>我決定退休後要舉辦一場個人音樂會。</li></ul><h1>省質檢篇第八</h1><blockquote><p>涉及2017年福建省質檢泄題事件。<em>斜體熟語</em>詳見下篇</p></blockquote><ul><li>從試卷中我嗅到了那些專家的味道。</li><li>那些所謂的專家都是事後諸葛亮。</li><li>遐專家，透日食飽<ruby>紥<rt>tsah</rt></ruby>手提電腦遘全省各地開講座，<em>「王兄柳弟」</em>，<ruby>今<rt>tann</rt></ruby> <em>「嚴官出惡賊」</em>。</li><li>我最欣賞全國卷的題目，言簡意賅。</li></ul><h1>熟語篇第九</h1><ul><li>「<strong>曲館墘豬母解敲鉢</strong>」Khiok-kuán kînn⁵⁵ ti-bó ēi khà puah：耳濡目染</li><li>「<strong>拳頭師予豬母犁倒</strong>」Kûn-thâu-sai khō ti-bó lêi--tó</li><li>「<strong>擒豬尾趁暢</strong>」 Khîm ti-bué thàn thiòng</li><li>「<strong>王兄柳弟</strong>」Ông-hiann Liú-tī：狐朋狗友</li><li>「<strong>嚴官出惡賊</strong>」Giâm-kuann tshut ok-tsha̍t</li></ul>]]></content>
    
    
    <categories>
      
      <category>隨筆</category>
      
    </categories>
    
    
    <tags>
      
      <tag>莊師</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>縷瑣</title>
    <link href="/essay/trifles/"/>
    <url>/essay/trifles/</url>
    
    <content type="html"><![CDATA[<p>才疏學淺。愚拙幼稚。</p><a id="more"></a><h1>Tsi̍t-nî ê khuài-lo̍k kah iu-siang</h1><p>即蜀年，khuài-lo̍k與iu-siang並存。</p><h1>Sim suinn-suinn</h1><p><em>From the diary on 2019/7/8.</em></p><p>「遷延日久，大為失計。」</p><h1>Unfinished Dreams</h1><p>當然，永恆目標是追求幸福。<br>儘管隨儂有怹家己兮fate。</p><p>貧懶佇網誌唱明偌濟遠大理想，究竟是着蜀步蜀步來。</p><p><u><em>Kánn tâng ak-kuí tsenn kuâinn-kēe,<br>M̄ hiònn pà-hêng niō tshùn-pun!</em></u></p>]]></content>
    
    
    <categories>
      
      <category>隨筆</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/uncategorized/hello-world/"/>
    <url>/uncategorized/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="/">Enatsu’s Site</a>!</p><a id="more"></a><h6 id="hello-world-cpp">hello_world.cpp</h6><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;Hello World&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><h6 id="HelloWorld-java">HelloWorld.java</h6><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloWorld</span> </span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;        System.out.println(<span class="hljs-string">&quot;Hello World&quot;</span>);    &#125;&#125;</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>開篇</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
